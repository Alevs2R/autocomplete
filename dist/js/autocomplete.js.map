{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 88c866fe8b3f6bbb9406","webpack:///./js/dropdown.js","webpack:///./scss/core.scss","webpack:///./js/core.js"],"names":["Dropdown","baseElement","options","minHeight","maxHeight","position","dropdownPosition","displayedProperty","keynumCodes","UP","DOWN","ENTER","ESC","prototype","isCreated","isVisible","activeElement","undefined","elementsList","dropdown","_create","document","createElement","className","style","visibility","appendChild","body","addElement","element","li","createTextNode","addEventListener","_clickEvent","bind","listRow","showList","list","clear","length","remove","row","setActiveElement","firstChild","_show","event","stopPropagation","select","target","_getHeight","availableSpace","Math","min","max","_getCoords","elem","box","getBoundingClientRect","docEl","documentElement","scrollTop","window","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","top","left","round","bottom","offsetHeight","OFFSET_INPUT","WIDTH_INCREASE","coords","offsetBottom","clientHeight","maxWidth","clientWidth","minWidth","offsetWidth","overflow","parentNode","removeChild","removeEventListener","innerHTML","_keyDownEvent","keyCode","nextSibling","previousSibling","require","module","exports","AutocompleteFactory","console","extend","a","b","prop","Autocomplete","_options","setInput","setData","source","err","error","input","value","selected","_finishTyping","_bindInputEvents","handleEvent","e","type","_onFocusEvent","_search","lastSearch","_loadJSON","then","data","catch","Array","map","str","querySelector","hasOwnProperty","tagName","url","Promise","resolve","reject","xhr","XMLHttpRequest","open","onload","status","JSON","parse","responseText","statusText","onerror","send","_getSearchResult","searchData","startsWith","result","property","String","push","maxResults","trim","_validate"],"mappings":"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","file":"js/autocomplete.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Autocomplete\"] = factory();\n\telse\n\t\troot[\"Autocomplete\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 88c866fe8b3f6bbb9406","export default Dropdown;\n\nfunction Dropdown(baseElement, options) {\n    this.minHeight = options.minHeight;\n    this.maxHeight = options.maxHeight;\n    this.baseElement = baseElement;\n    this.position = options.dropdownPosition;\n    this.displayedProperty = options.displayedProperty;\n}\n\nconst keynumCodes = {\n    UP: 38,\n    DOWN: 40,\n    ENTER: 13,\n    ESC: 27\n};\n\nDropdown.prototype = {\n\n    isCreated: false,\n    isVisible: false,\n    activeElement: undefined,\n    elementsList: null,\n    dropdown: null,\n\n    _create(){\n        let dropdown = document.createElement('div');\n        dropdown.className = 'autocomplete-dropdown';\n        dropdown.style.visibility = 'hidden';\n\n        this.elementsList = document.createElement('ul');\n        dropdown.appendChild(this.elementsList);\n        document.body.appendChild(dropdown);\n        this.dropdown = dropdown;\n\n        this.isCreated = true;\n    },\n\n    addElement(element){\n        let li = document.createElement('li');\n        li.appendChild(document.createTextNode(element[this.displayedProperty]));\n        li.addEventListener('click', this._clickEvent.bind(this));\n        li.listRow = element;\n        this.elementsList.appendChild(li);\n    },\n\n\n    showList(list){\n        if(!this.isCreated) this._create();\n        else{\n            this.clear();\n        }\n\n        if (list.length == 0) {\n            this.remove();\n            return;\n        }\n\n        for (let row of list) {\n            this.addElement(row);\n        }\n\n        this.setActiveElement(this.elementsList.firstChild);\n\n        if(!this.isVisible) {\n            this._show();\n        }\n    },\n\n    _clickEvent(event){\n        event.stopPropagation();\n        this.select(event.target.listRow);\n    },\n\n    _getHeight(availableSpace){\n        return Math.min(Math.max(this.minHeight, availableSpace), this.maxHeight);\n    },\n\n    _getCoords(elem) { // crossbrowser version\n        var box = elem.getBoundingClientRect();\n\n        var body = document.body;\n        var docEl = document.documentElement;\n\n        var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n        var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n\n        var clientTop = docEl.clientTop || body.clientTop || 0;\n        var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n\n        var top = box.top + scrollTop - clientTop;\n        var left = box.left + scrollLeft - clientLeft;\n\n        return {top: Math.round(top), bottom: Math.round(top) + elem.offsetHeight, left: Math.round(left)};\n    },\n\n    _show(){\n        if(!this.isCreated) return;\n\n        const OFFSET_INPUT = 2;\n        const WIDTH_INCREASE = 30;\n\n        let coords = this._getCoords(this.baseElement);\n        let offsetBottom = document.body.clientHeight - coords.bottom;\n\n        if (this.position == 'top' || (this.position == 'auto' && offsetBottom < this.minHeight)) {\n            this.dropdown.style.maxHeight = this._getHeight(coords.top - OFFSET_INPUT) + 'px';\n            this.dropdown.style.bottom = document.body.clientHeight - coords.top + OFFSET_INPUT + 'px';\n        }\n        else {\n            this.dropdown.style.top = (coords.top + this.baseElement.offsetHeight + OFFSET_INPUT) + \"px\";\n            this.dropdown.style.maxHeight = this._getHeight(offsetBottom - OFFSET_INPUT) + 'px';\n        }\n        let maxWidth = document.body.clientWidth - coords.left;\n\n        this.dropdown.style.left = coords.left + 'px';\n        this.dropdown.style.maxWidth = maxWidth + 'px';\n        this.dropdown.style.minWidth = Math.min(this.baseElement.offsetWidth + WIDTH_INCREASE, maxWidth) + 'px';\n        this.dropdown.style.visibility = 'visible';\n\n        document.body.style.overflow = 'hidden';\n\n        document.addEventListener('keydown', this);\n\n        this.isVisible = true;\n        //TODO reaction on window resize\n    },\n\n    setActiveElement(elem){\n        if (this.activeElement) this.activeElement.className = '';\n        elem.className = 'active';\n        this.activeElement = elem;\n    },\n\n    remove(){\n        if (!this.isCreated) return;\n        this.dropdown.parentNode.removeChild(this.dropdown);\n        document.body.style.overflow = 'auto';\n        document.removeEventListener('keydown', this);\n\n        this.isCreated = false;\n        this.isVisible = false;\n    },\n\n    clear(){\n        if (!this.isCreated) {\n            this._create();\n        }\n        this.elementsList.innerHTML = '';\n    },\n\n    select(){},\n\n    _keyDownEvent(event){\n        switch(event.keyCode){\n            case keynumCodes.DOWN:\n                if(!this.activeElement.nextSibling) return;\n                this.setActiveElement(this.activeElement.nextSibling);\n                break;\n            case keynumCodes.UP:\n                if(!this.activeElement.previousSibling) return;\n                this.setActiveElement(this.activeElement.previousSibling);\n                break;\n            case keynumCodes.ENTER:\n                this.select(this.activeElement.listRow);\n                break;\n            case keynumCodes.ESC:\n                this.remove();\n                break;\n\n        }\n    },\n\n}\n;\n\n\n\n// WEBPACK FOOTER //\n// ./js/dropdown.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scss/core.scss\n// module id = 1\n// module chunks = 0","require('../scss/core.scss');\nimport Dropdown from './dropdown';\n\nmodule.exports = AutocompleteFactory;\n\nvar console = window.console;\n\n// extend objects\nfunction extend(a, b) {\n    for (var prop in b) {\n        a[prop] = b[prop];\n    }\n    return a;\n}\n\nfunction AutocompleteFactory(elem, options) {\n    return new Autocomplete(elem, options);\n}\n\nconst _options = {\n    'source': null,\n    'arrow': false,\n    'minResults': 5,\n    'maxResults': 20,\n    'minHeight': 200,\n    'maxHeight': 450,\n    'displayedProperty': \"value\",\n    'dropdownPosition': \"auto\",\n};\n\nfunction Autocomplete(elem, options) {\n    this.options = extend(this.options, options);\n\n    try {\n        this.setInput(elem);\n        this.setData(this.options.source);\n    } catch (err){\n        console.error(err);\n        return;\n    }\n\n    this.dropdown = new Dropdown(this.input, this.options);\n\n    this.dropdown.select = function(element){\n        this.input.value = element[this.options.displayedProperty];\n        this.selected = element;\n        this._finishTyping();\n    }.bind(this);\n\n    this._bindInputEvents();\n\n    this.handleEvent = function (e) {\n        switch (e.type) {\n            case \"focus\":\n                this._onFocusEvent();\n                break;\n            case \"input\":\n                this._search(this.input.value);\n                break;\n            case \"keydown\":\n                this._keyDownEvent(e);\n        }\n    };\n\n    this._finishTyping = this._finishTyping.bind(this);\n}\n\nAutocomplete.prototype = {\n    options: _options,\n    lastSearch: null,\n    selected: undefined,\n\n    setData(source){\n        if (typeof source == 'string') this._loadJSON(source).then(data => this.data = data).catch(err => console.error(err));\n        else {\n            if (!(source instanceof Array)) throw 'source should be instance of Array or String';\n            if (typeof source[0] == 'string') {\n                this.data = source.map(str => {value: str});\n                this.options.displayedProperty = 'value';\n            }\n            else this.data = source;\n        }\n    },\n\n    setInput(elem){\n        if (typeof elem == 'string') this.input = document.querySelector(elem);\n        else if (elem.hasOwnProperty('tagName') && elem.tagName == 'input') this.input = elem;\n        else throw '1 argument should be String or instance of Element with tagName input';\n    },\n\n    _bindInputEvents(){\n        this.input.addEventListener(\"input\", this, false);\n        this.input.addEventListener(\"focus\", this, false);\n        this.input.addEventListener(\"click\", function(e){\n            e.stopPropagation();\n        });\n    },\n\n    _loadJSON(url){\n        return new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url);\n            xhr.onload = function () {\n                if (this.status >= 200 && this.status < 300) {\n                    resolve(JSON.parse(xhr.responseText));\n                } else {\n                    reject({\n                        status: this.status,\n                        statusText: xhr.statusText\n                    });\n                }\n            };\n            xhr.onerror = function () {\n                reject({\n                    status: this.status,\n                    statusText: xhr.statusText\n                });\n            };\n            xhr.send();\n        });\n    },\n    _getSearchResult(value){\n        let searchData;\n        if (this.lastSearch && value.startsWith(this.lastSearch.value)) {\n            searchData = this.lastSearch.result;\n        }\n        else searchData = this.data;\n\n        if (!this.data) return [];\n        let result = [];\n        for (let row of this.data) {\n            if(row[this.options.displayedProperty] == value) this.selected = row;\n\n            for (let property in row) {\n                if (row.hasOwnProperty(property) && String(row[property]).startsWith(value)) {\n                    result.push(row);\n                    break;\n                }\n            }\n            if (result.length == this.options.maxResults) break;\n        }\n\n        this.lastSearch = {value, result};\n        return result;\n    },\n    _search(value){\n        this.selected = null;\n        this.dropdown.showList(this._getSearchResult(value.trim()));\n    },\n\n    _validate(){\n      if(!this.selected){\n          this.input.className += ' error';\n      }\n    },\n\n    _onFocusEvent(){\n        document.body.addEventListener('click', this._finishTyping);\n        this.input.className = 'autocomplete';\n\n        if(!this.selected && this.lastSearch) this.dropdown.showList(this.lastSearch.result);\n    },\n\n    _finishTyping(){\n        this.dropdown.remove();\n        this._validate();\n        document.body.removeEventListener('click', this._finishTyping);\n    }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./js/core.js"],"sourceRoot":""}