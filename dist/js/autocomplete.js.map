{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0609354424a5fc7928ce","webpack:///./scss/core.scss","webpack:///./js/core.js"],"names":["require","module","exports","AutocompleteFactory","console","window","extend","a","b","prop","elem","options","Autocomplete","_options","keynumCodes","UP","DOWN","ENTER","setInput","setData","source","err","error","_bindEvents","handleEvent","e","type","_search","input","value","_keyDownEvent","_removeDropdown","bind","prototype","lastSearch","isDropdownCreated","selected","undefined","activeElement","_loadJSON","then","data","catch","Array","map","str","displayedProperty","log","document","querySelector","hasOwnProperty","tagName","addEventListener","_unBindEvents","_createDropdown","dropdown","createElement","className","style","visibility","elementsList","appendChild","body","_getDropdownHeight","availableSpace","Math","min","max","minHeight","maxHeight","getCoords","box","getBoundingClientRect","docEl","documentElement","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","top","left","round","bottom","offsetHeight","_showDropdown","OFFSET_INPUT","WIDTH_INCREASE","coords","offsetBottom","clientHeight","dropdownPosition","maxWidth","clientWidth","minWidth","offsetWidth","overflow","url","Promise","resolve","reject","xhr","XMLHttpRequest","open","onload","status","JSON","parse","responseText","statusText","onerror","send","_getSearchResult","searchData","startsWith","result","row","property","String","push","length","maxResults","_showSearchResult","trim","parentNode","removeChild","removeEventListener","innerHTML","li","createTextNode","clickEvent","listRow","setActiveElement","firstChild","event","target","stopPropagation","keyCode","nextSibling","previousSibling"],"mappings":"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","file":"js/autocomplete.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Autocomplete\"] = factory();\n\telse\n\t\troot[\"Autocomplete\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0609354424a5fc7928ce","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scss/core.scss\n// module id = 0\n// module chunks = 0","require('../scss/core.scss');\n\nmodule.exports = AutocompleteFactory;\n\nvar console = window.console;\n\n// extend objects\nfunction extend(a, b) {\n    for (var prop in b) {\n        a[prop] = b[prop];\n    }\n    return a;\n}\n\nfunction AutocompleteFactory(elem, options) {\n    return new Autocomplete(elem, options);\n}\n\nconst _options = {\n    'source': null,\n    'arrow': false,\n    'minResults': 5,\n    'maxResults': 20,\n    'minHeight': 200,\n    'maxHeight': 450,\n    'displayedProperty': \"value\",\n    'dropdownPosition': \"auto\",\n};\n\nconst keynumCodes = {\n    UP: 38,\n    DOWN: 40,\n    ENTER: 13\n};\n\nfunction Autocomplete(elem, options) {\n    this.options = extend(this.options, options);\n\n    try {\n        this.setInput(elem);\n        this.setData(this.options.source);\n    } catch (err){\n        console.error(err);\n        return;\n    }\n\n    this._bindEvents();\n\n    this.handleEvent = function (e) {\n        switch (e.type) {\n            case \"focus\":\n                //this._showDropdown();\n                break;\n            case \"input\":\n                this._search(this.input.value);\n                break;\n            case \"keydown\":\n                this._keyDownEvent(e);\n        }\n    };\n\n    this._removeDropdown = this._removeDropdown.bind(this);\n}\n\nAutocomplete.prototype = {\n    options: _options,\n    lastSearch: null,\n    isDropdownCreated: false,\n    selected: undefined,\n    activeElement: undefined,\n\n    setData(source){\n        if (typeof source == 'string') this._loadJSON(source).then(data => this.data = data).catch(err => console.error(err));\n        else {\n            if (!(source instanceof Array)) throw 'source should be instance of Array or String';\n            if (typeof source[0] == 'string') {\n                this.data = source.map(str => {value: str});\n                this.options.displayedProperty = 'value';\n            }\n            else this.data = source;\n        }\n    },\n\n    setInput(elem){\n        console.log(elem);\n        if (typeof elem == 'string') this.input = document.querySelector(elem);\n        else if (elem.hasOwnProperty('tagName') && elem.tagName == 'input') this.input = elem;\n        else throw '1 argument should be String or instance of Element with tagName input';\n    },\n\n    _bindEvents(){\n        this.input.addEventListener(\"input\", this, false);\n        this.input.addEventListener(\"focus\", this, false);\n    },\n    _unBindEvents(){\n    },\n    _createDropdown(){\n        let dropdown = document.createElement('div');\n        dropdown.className = 'autocomplete-dropdown';\n        dropdown.style.visibility = 'hidden';\n\n        this.elementsList = document.createElement('ul');\n        dropdown.appendChild(this.elementsList);\n        document.body.appendChild(dropdown);\n        this.dropdown = dropdown;\n    },\n    _getDropdownHeight(availableSpace){\n        return Math.min(Math.max(this.options.minHeight, availableSpace), this.options.maxHeight);\n    },\n\n    getCoords(elem) { // crossbrowser version\n        var box = elem.getBoundingClientRect();\n\n        var body = document.body;\n        var docEl = document.documentElement;\n\n        var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n        var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n\n        var clientTop = docEl.clientTop || body.clientTop || 0;\n        var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n\n        var top = box.top + scrollTop - clientTop;\n        var left = box.left + scrollLeft - clientLeft;\n\n        return {top: Math.round(top), bottom: Math.round(top) + elem.offsetHeight, left: Math.round(left)};\n    },\n\n    _showDropdown(){\n        const OFFSET_INPUT = 2;\n        const WIDTH_INCREASE = 30;\n        let coords = this.getCoords(this.input);\n        let offsetBottom = document.body.clientHeight - coords.bottom;\n\n        if (this.options.dropdownPosition == 'top' || (this.options.dropdownPosition == 'auto' && offsetBottom < this.options.minHeight)) {\n            this.dropdown.style.maxHeight = this._getDropdownHeight(coords.top - OFFSET_INPUT) + 'px';\n            this.dropdown.style.bottom = document.body.clientHeight - coords.top + OFFSET_INPUT + 'px';\n        }\n        else {\n            this.dropdown.style.top = (coords.top + this.input.offsetHeight + OFFSET_INPUT) + \"px\";\n            this.dropdown.style.maxHeight = this._getDropdownHeight(offsetBottom - OFFSET_INPUT) + 'px';\n        }\n        let maxWidth = document.body.clientWidth - coords.left;\n\n        this.dropdown.style.left = coords.left + 'px';\n        this.dropdown.style.maxWidth = maxWidth + 'px';\n        this.dropdown.style.minWidth = Math.min(this.input.offsetWidth + WIDTH_INCREASE, maxWidth) + 'px';\n        this.dropdown.style.visibility = 'visible';\n\n        document.body.style.overflow = 'hidden';\n\n        document.body.addEventListener('click', this._removeDropdown);\n        document.addEventListener('keydown', this);\n\n\n        this.isDropdownCreated = true;\n        //TODO reaction on window resize\n    },\n    _loadJSON(url){\n        return new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url);\n            xhr.onload = function () {\n                if (this.status >= 200 && this.status < 300) {\n                    resolve(JSON.parse(xhr.responseText));\n                } else {\n                    reject({\n                        status: this.status,\n                        statusText: xhr.statusText\n                    });\n                }\n            };\n            xhr.onerror = function () {\n                reject({\n                    status: this.status,\n                    statusText: xhr.statusText\n                });\n            };\n            xhr.send();\n        });\n    },\n    _getSearchResult(value){\n        let searchData;\n        if (this.lastSearch && value.startsWith(this.lastSearch.value)) {\n            searchData = this.lastSearch.result;\n        }\n        else searchData = this.data;\n\n        if (!this.data) return [];\n        let result = [];\n        for (let row of this.data) {\n            for (let property in row) {\n                if (row.hasOwnProperty(property) && String(row[property]).startsWith(value)) {\n                    result.push(row);\n                    break;\n                }\n            }\n            if (result.length == this.options.maxResults) break;\n        }\n\n        this.lastSearch = {value, result};\n        return result;\n    },\n    _search(value){\n        this._showSearchResult(this._getSearchResult(value.trim()));\n    },\n    _removeDropdown(){\n        if (!this.isDropdownCreated) return;\n        this.dropdown.parentNode.removeChild(this.dropdown);\n        document.body.style.overflow = 'auto';\n        document.body.removeEventListener('click', this._removeDropdown);\n\n        this.isDropdownCreated = false;\n    },\n\n    _showSearchResult(result){\n        if (result.length == 0) {\n            this._removeDropdown();\n            return;\n        }\n\n        if (!this.isDropdownCreated) {\n            this._createDropdown();\n        }\n\n        this.elementsList.innerHTML = '';\n        for (let row of result) {\n            let li = document.createElement('li');\n            li.appendChild(document.createTextNode( row[this.options.displayedProperty] ));\n            li.addEventListener('click', this.clickEvent.bind(this));\n            li.listRow = row;\n            this.elementsList.appendChild(li);\n        }\n\n        this.setActiveElement(this.elementsList.firstChild);\n\n        if (!this.isDropdownCreated) {\n            this._showDropdown();\n        }\n    },\n\n    clickEvent(event){\n        this.input.value = event.target.innerHTML;\n        this.selected = event.target.listRow;\n        this._removeDropdown();\n        event.stopPropagation();\n    },\n\n    setActiveElement(elem){\n        if(this.activeElement) this.activeElement.className = '';\n        elem.className = 'active';\n        this.activeElement = elem;\n    },\n\n    _keyDownEvent(event){\n        switch(event.keyCode){\n            case keynumCodes.DOWN:\n                if(!this.activeElement.nextSibling) return;\n                this.setActiveElement(this.activeElement.nextSibling);\n                break;\n            case keynumCodes.UP:\n                if(!this.activeElement.previousSibling) return;\n                this.setActiveElement(this.activeElement.previousSibling);\n                break;\n            case keynumCodes.ENTER:\n                this.input.value = this.activeElement.listRow[this.options.displayedProperty];\n                this._removeDropdown();\n                break;\n\n        }\n    }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./js/core.js"],"sourceRoot":""}