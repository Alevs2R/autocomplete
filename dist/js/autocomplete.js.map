{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 157c75841b85de55e90c","webpack:///./js/dropdown.js","webpack:///./scss/core.scss","webpack:///./js/core.js"],"names":["Dropdown","baseElement","options","minHeight","maxHeight","position","dropdownPosition","displayedProperty","wordEndings","handleEvent","e","type","_keyDownEvent","NOTHING_FOUND","LOADING","keynumCodes","UP","DOWN","ENTER","ESC","loader","prototype","isCreated","isVisible","activeElement","undefined","elementsList","dropdown","isLoaderShown","_create","document","createElement","className","style","visibility","addEventListener","stopPropagation","body","appendChild","_createElement","element","val","hasOwnProperty","search","property","str","pos","length","substr","li","innerHTML","_clickEvent","bind","listRow","_createElementsList","elements","result","row","overflow","_createLoader","div","span","createTextNode","_createEmptyMessage","showLoader","clear","_show","showError","CONNECTION_ERROR","RELOAD","reloadBtn","reload","showList","list","maxResults","ul","setActiveElement","firstChild","slice","_getSummary","num","total","text","event","select","target","_getHeight","availableSpace","Math","min","max","_getCoords","elem","box","getBoundingClientRect","docEl","documentElement","scrollTop","window","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","top","left","round","bottom","offsetHeight","_updateWidth","WIDTH_INCREASE","leftOffset","coordLeft","maxWidth","clientWidth","minWidth","offsetWidth","width","getElementsByTagName","display","_setListHeight","totalHeight","summaryHeight","OFFSET_INPUT","coords","offsetBottom","clientHeight","offsetTop","remove","parentNode","removeChild","removeEventListener","keyCode","nextSibling","previousSibling","preventDefault","require","module","exports","AutocompleteFactory","console","extend","a","b","prop","Autocomplete","_options","setInput","setData","source","err","error","input","value","selected","_finishTyping","_search","_bindInputEvents","_onFocusEvent","lastSearch","sourceIsDynamic","Array","data","map","sort","p","sortBy","v","sortOrder","querySelector","tagName","_makeRequest","url","Promise","resolve","reject","xhr","abort","XMLHttpRequest","open","onload","status","JSON","parse","responseText","statusText","onerror","send","_loadData","that","callback","dataRequestFinished","then","catch","setTimeout","interval","setInterval","clearInterval","testByEntry","replace","indexOf","_getSearchResult","searchData","startsWith","lValue","caseSensitive","toLowerCase","isValidElement","String","searchByEntry","push","trim","_validate","ownValue"],"mappings":"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","file":"js/autocomplete.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Autocomplete\"] = factory();\n\telse\n\t\troot[\"Autocomplete\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 157c75841b85de55e90c","export default Dropdown;\n\nfunction Dropdown(baseElement, options) {\n    this.minHeight = options.minHeight;\n    this.maxHeight = options.maxHeight;\n    this.baseElement = baseElement;\n    this.position = options.dropdownPosition;\n    this.displayedProperty = options.displayedProperty;\n    this.wordEndings = options.wordEndings;\n\n\n    this.handleEvent = function (e) {\n        switch (e.type) {\n            case \"keydown\":\n                this._keyDownEvent(e);\n        }\n    };\n}\n\nconst NOTHING_FOUND = 'Не найдено';\nconst LOADING = 'Загрузка';\n\nconst keynumCodes = {\n    UP: 38,\n    DOWN: 40,\n    ENTER: 13,\n    ESC: 27\n};\n\nconst loader = '<svg class=\"circle\" width=\"16\" height=\"16\"><circle class=\"path\" cx=\"8\" cy=\"8\" r=\"6\" stroke-miterlimit=\"10\"/></svg>';\n\nDropdown.prototype = {\n\n    isCreated: false,\n    isVisible: false,\n    activeElement: undefined,\n    elementsList: null,\n    dropdown: null,\n    isLoaderShown: false,\n\n    _create(){\n        let dropdown = document.createElement('div');\n        dropdown.className = 'autocomplete-dropdown';\n        dropdown.style.visibility = 'hidden';\n        dropdown.addEventListener('click', (e)=>e.stopPropagation());\n\n\n        document.body.appendChild(dropdown);\n        this.dropdown = dropdown;\n\n        this.isCreated = true;\n    },\n\n    _createElement(element){\n        let val;\n        if (element.hasOwnProperty('search') && element.search.property == this.displayedProperty) {\n            let str = element[this.displayedProperty];\n            let {pos, length} = element.search;\n            val = str.substr(0, pos) + '<b>' + str.substr(pos, length) + '</b>' + str.substr(pos + length);\n        }\n        else {\n            val = element[this.displayedProperty];\n        }\n\n        let li = document.createElement('li');\n        li.innerHTML = val;\n        li.addEventListener('click', this._clickEvent.bind(this));\n        li.listRow = element;\n\n        return li;\n    },\n\n    _createElementsList(elements){\n        let result = document.createElement('ul');\n\n        for (let row of elements) {\n            result.appendChild(this._createElement(row));\n        }\n\n        result.addEventListener('mouseover', function(){\n            document.body.style.overflow = 'hidden';\n        });\n        result.addEventListener('mouseout', function(){\n            document.body.style.overflow = 'auto';\n        });\n\n        return result;\n    },\n\n    _createLoader(){\n        let div = document.createElement('div');\n        div.className = \"loader\";\n        div.innerHTML = loader;\n        let span = document.createElement('span');\n        span.appendChild(document.createTextNode(LOADING));\n        div.appendChild(span);\n        return div;\n    },\n\n    _createEmptyMessage(){\n        let div = document.createElement('div');\n        div.appendChild(document.createTextNode(NOTHING_FOUND));\n        return div;\n    },\n\n    showLoader(){\n        if(this.isLoaderShown) return;\n        this.clear();\n        this.dropdown.appendChild(this._createLoader());\n        this._show();\n        this.isLoaderShown = true;\n    },\n\n    showError(){\n        const CONNECTION_ERROR = 'Что-то пошло не так. Проверьте соединение с интернетом и попробуйте еще раз';\n        const RELOAD = 'Обновить';\n\n        this.clear();\n        let div = document.createElement('div');\n        div.appendChild(document.createTextNode(CONNECTION_ERROR));\n\n        let reloadBtn = document.createElement('div');\n        reloadBtn.className = 'autocomplete-control';\n        reloadBtn.appendChild(document.createTextNode(RELOAD));\n\n        reloadBtn.addEventListener('click', function(){\n            this.reload();\n        }.bind(this));\n\n        this.dropdown.appendChild(div);\n        this.dropdown.appendChild(reloadBtn);\n\n        this._show();\n    },\n\n    showList(list, maxResults = null){\n        this.clear();\n\n        if (list.length == 0) this.dropdown.appendChild(this._createEmptyMessage());\n        else {\n            if(maxResults == null || list.length <= maxResults) {\n                let ul = this._createElementsList(list);\n                this.dropdown.appendChild(ul);\n                this.setActiveElement(ul.firstChild);\n            } else {\n                let ul = this._createElementsList(list.slice(0, maxResults));\n                this.dropdown.appendChild(ul);\n                this.setActiveElement(ul.firstChild);\n                this.dropdown.appendChild(this._getSummary(maxResults, list.length));\n            }\n\n        }\n\n\n        //if (!this.isVisible) {\n            this._show();\n        //}\n        //else this._updateWidth();\n    },\n\n    _getSummary(num, total){\n        let div = document.createElement('div');\n        let str = (total % 100 != 11 && total % 10 == 1) ? 'найденного '+this.wordEndings[0] : 'найденных '+this.wordEndings[1];\n        let text = 'Показано '+num+' из '+total+' '+str+'. Уточните запрос, чтобы увидеть остальные';\n        div.appendChild(document.createTextNode(text));\n        div.className = \"autocomplete-summary\";\n        return div;\n    },\n\n    _clickEvent(event){\n        this.select(event.target.listRow);\n    },\n\n    _getHeight(availableSpace){\n        return Math.min(Math.max(this.minHeight, availableSpace), this.maxHeight);\n    },\n\n    _getCoords(elem) { // crossbrowser version\n        var box = elem.getBoundingClientRect();\n\n        var body = document.body;\n        var docEl = document.documentElement;\n\n        var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n        var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n\n        var clientTop = docEl.clientTop || body.clientTop || 0;\n        var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n\n        var top = box.top + scrollTop - clientTop;\n        var left = box.left + scrollLeft - clientLeft;\n\n        return {top: Math.round(top), bottom: Math.round(top) + elem.offsetHeight, left: Math.round(left)};\n    },\n\n    _updateWidth(){\n        const WIDTH_INCREASE = 30;\n\n        let leftOffset = this.dropdown.coordLeft;\n\n        let maxWidth = document.body.clientWidth - leftOffset;\n        let minWidth = Math.min(this.baseElement.offsetWidth + WIDTH_INCREASE, maxWidth);\n\n        let width;\n        let ul = this.dropdown.getElementsByTagName('ul');\n        if(ul.length > 0){\n            this.dropdown.style.width = 'auto';\n            width = Math.min(Math.max(minWidth, ul[0].offsetWidth + 1), maxWidth);\n            ul[0].style.width = '100%';\n            ul[0].style.display = 'block';\n\n        }\n        else width = minWidth;\n        this.dropdown.style.width = width + 'px';\n    },\n\n    _setListHeight(totalHeight){\n        const summaryHeight = 42;\n        let ul = this.dropdown.getElementsByTagName('ul');\n        if(ul.length > 0){\n            if(this.dropdown.getElementsByTagName('div').length > 0){\n                ul[0].style.maxHeight = (totalHeight - summaryHeight) + 'px';\n            }\n            else ul[0].style.maxHeight = totalHeight + 'px';\n        }\n    },\n\n    _show(){\n        if (!this.isCreated) return;\n\n        const OFFSET_INPUT = 2;\n\n        let coords = this._getCoords(this.baseElement);\n        let offsetBottom = document.body.clientHeight - coords.bottom;\n\n        if (this.position == 'top' || (this.position == 'auto' && offsetBottom < this.minHeight)) {\n            this._setListHeight(this._getHeight(coords.top - OFFSET_INPUT));\n            this.dropdown.style.bottom = document.body.clientHeight - coords.top + OFFSET_INPUT + 'px';\n        }\n        else {\n            this.dropdown.style.top = (coords.top + this.baseElement.offsetHeight + OFFSET_INPUT) + \"px\";\n            this._setListHeight(this._getHeight(offsetBottom - OFFSET_INPUT));\n        }\n\n        this.dropdown.coordLeft = coords.left;\n        this.dropdown.style.left = coords.left + 'px';\n\n        this._updateWidth();\n\n        this.dropdown.style.visibility = 'visible';\n\n        document.addEventListener('keydown', this);\n\n        this.isVisible = true;\n        //TODO reaction on window resize\n    },\n\n    setActiveElement(elem){\n        if (this.activeElement) this.activeElement.className = '';\n        elem.className = 'active';\n        this.activeElement = elem;\n\n        let offsetTop = elem.offsetTop,\n            offsetBottom = offsetTop + 30;\n        let ul = this.dropdown.getElementsByTagName('ul')[0];\n        if(ul.scrollTop + ul.clientHeight < offsetBottom) {\n            ul.scrollTop = offsetBottom - ul.clientHeight;\n        }\n        else if(offsetTop < ul.scrollTop) {\n            ul.scrollTop = offsetTop;\n        }\n    },\n\n    remove(){\n        if (!this.isCreated) return;\n        this.dropdown.parentNode.removeChild(this.dropdown);\n        document.body.style.overflow = 'auto';\n        document.removeEventListener('keydown', this);\n\n        this.isCreated = false;\n        this.isVisible = false;\n    },\n\n    clear(){\n        this.isLoaderShown = false;\n        this.activeElement = null;\n        if (!this.isCreated) this._create();\n        else {\n            this.dropdown.innerHTML = '';\n        }\n    },\n\n    select(){\n        // callback, should be set by client\n    },\n\n    _keyDownEvent(event){\n        switch (event.keyCode) {\n            case keynumCodes.DOWN:\n                if (!this.activeElement || !this.activeElement.nextSibling) return;\n                this.setActiveElement(this.activeElement.nextSibling);\n                break;\n            case keynumCodes.UP:\n                if (!this.activeElement || !this.activeElement.previousSibling) return;\n                this.setActiveElement(this.activeElement.previousSibling);\n                break;\n            case keynumCodes.ENTER:\n                if(!this.activeElement) return;\n                this.select(this.activeElement.listRow);\n                break;\n            case keynumCodes.ESC:\n                this.remove();\n                break;\n\n        }\n        event.preventDefault();\n    },\n\n}\n;\n\n\n\n// WEBPACK FOOTER //\n// ./js/dropdown.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scss/core.scss\n// module id = 1\n// module chunks = 0","require('../scss/core.scss');\nimport Dropdown from \"./dropdown\";\n\nmodule.exports = AutocompleteFactory;\n\nvar console = window.console;\n\n// extend objects\nfunction extend(a, b) {\n    for (var prop in b) {\n        a[prop] = b[prop];\n    }\n    return a;\n}\n\nfunction AutocompleteFactory(elem, options) {\n    return new Autocomplete(elem, options);\n}\n\nconst _options = {\n    'source': null,\n    'arrow': false,\n    'maxResults': 5,\n    'minHeight': 200,\n    'maxHeight': 450,\n    'displayedProperty': \"value\",\n    'dropdownPosition': \"auto\",\n    'sort': false,\n    'sortBy': null,\n    'sortOrder': 'asc',\n    'isValidElement': ()=>true,\n    'searchByEntry': false,\n    'caseSensitive': false,\n    'wordEndings': null,\n    'ownValue': false\n};\n\nfunction Autocomplete(elem, options) {\n    this.options = extend(this.options, options);\n\n    try {\n        this.setInput(elem);\n        this.setData(this.options.source);\n    } catch (err) {\n        console.error(err);\n        return;\n    }\n\n    this.dropdown = new Dropdown(this.input, this.options);\n\n    this.dropdown.select = function (element) {\n        this.input.value = element[this.options.displayedProperty];\n        this.selected = element;\n        this._finishTyping();\n    }.bind(this);\n\n    this.dropdown.reload = function(){\n        this._search(this.input.value);\n    }.bind(this);\n\n    this._bindInputEvents();\n\n    this.handleEvent = function (e) {\n        switch (e.type) {\n            case \"focus\":\n                this._onFocusEvent();\n                break;\n            case \"input\":\n                this._search(this.input.value);\n                break;\n            case \"keydown\":\n                this._keyDownEvent(e);\n        }\n    };\n\n    this._finishTyping = this._finishTyping.bind(this);\n}\n\nAutocomplete.prototype = {\n    options: _options,\n    lastSearch: null,\n    selected: undefined,\n    sourceIsDynamic: false,\n\n    setData(source){\n        if (typeof source == 'string') {\n            this.source = source; // data will be loaded later\n        }\n        else if (typeof source == 'function') {\n            this.source = source;\n            this.sourceIsDynamic = true;\n        }\n        else {\n            if (!(source instanceof Array)) throw 'source should be instance of Array or String';\n            let data;\n            if (typeof source[0] == 'string') {\n                data = source.map(str => {\n                    value: str\n                });\n                this.options.displayedProperty = 'value';\n            }\n            else data = source;\n            this.data = this.sort(data);\n        }\n    },\n\n    sort(data){\n        if (!this.options.sort) return;\n        let p = this.options.sortBy ? this.options.sortBy : this.options.displayedProperty;\n        let v = this.options.sortOrder == 'asc' ? -1 : 1;\n        let result = data.sort(function (a, b) {\n            if (a[p] < b[p]) return v;\n            if (a[p] > b[p]) return -v;\n            return 0;\n        });\n        return result;\n    },\n\n    setInput(elem){\n        if (typeof elem == 'string') this.input = document.querySelector(elem);\n        else if (elem.hasOwnProperty('tagName') && elem.tagName == 'input') this.input = elem;\n        else throw '1 argument should be String or instance of Element with tagName input';\n    },\n\n    _bindInputEvents(){\n        this.input.addEventListener(\"input\", this, false);\n        this.input.addEventListener(\"focus\", this, false);\n        this.input.addEventListener(\"click\", function (e) {\n            e.stopPropagation();\n        });\n    },\n\n    _makeRequest(url){\n        return new Promise(function (resolve, reject) {\n            if(this.xhr) this.xhr.abort();\n\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url);\n            xhr.onload = function () {\n                if (this.status >= 200 && this.status < 300) {\n                    resolve(JSON.parse(xhr.responseText));\n                } else {\n                    reject({\n                        status: this.status,\n                        statusText: xhr.statusText\n                    });\n                }\n            };\n            xhr.onerror = function () {\n                reject({\n                    status: this.status,\n                    statusText: xhr.statusText\n                });\n            };\n            xhr.send();\n            this.xhr = xhr;\n        }.bind(this));\n    },\n\n    _loadData(url){\n        var that = this;\n\n        return new Promise(function (resolve, reject) {\n\n            let callback;\n            that.dataRequestFinished = false;\n\n            that._makeRequest(url)\n                .then(data => {\n                    callback = () => resolve(data)\n                })\n                .catch(error => {\n                    callback = () => reject(error)\n                })\n                .then(() => {\n                    that.dataRequestFinished = true;\n                    if(!that.dropdown.isLoaderShown) callback();\n                });\n\n            setTimeout(function(){\n                if(!that.dataRequestFinished) {\n                    that.dropdown.showLoader();\n                    let interval = setInterval(function () {\n                        if (that.dataRequestFinished) {\n                            clearInterval(interval);\n                            if(callback) callback();\n                        }\n                    }, 1000);\n                }\n            }, 500);\n        });\n    },\n\n    testByEntry(str, search){\n        str = ' ' + str.replace(/\"/g, \"\");\n        return str.indexOf(' ' + search);\n\n    },\n\n    _getSearchResult(value){\n        let searchData;\n        if (this.lastSearch && value.startsWith(this.lastSearch.value)) {\n            searchData = this.lastSearch.result;\n        }\n        else searchData = this.data;\n        if (!this.data) return [];\n\n        let lValue = this.options.caseSensitive ? value : value.toLowerCase();\n\n        let result = [];\n        for (let row of this.data) {\n            if (!this.options.isValidElement(row)) continue;\n\n            if (row[this.options.displayedProperty] == value) this.selected = row;\n\n            for (let property in row) {\n                if (row.hasOwnProperty(property)) {\n                    let str = this.options.caseSensitive ? String(row[property]) : String(row[property]).toLowerCase();\n                    if (this.options.searchByEntry) {\n\n                        let pos = this.testByEntry(str, lValue);\n                        if (pos != -1) {\n                            row.search = {\n                                pos, property,\n                                length: lValue.length,\n                            };\n                            result.push(row);\n                            break;\n                        }\n                    }\n                    else {\n                        if (str.startsWith(lValue)) {\n                            result.push(row);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        this.lastSearch = {value, result};\n        return result;\n    },\n    _search(value){\n        this.selected = null;\n        if (value) {\n            if (this.sourceIsDynamic) {\n                this._loadData(this.source(value))\n                    .then(data => this.dropdown.showList(this.sort(data), this.options.maxResults))\n                    .catch(err => this.dropdown.showError());\n            }\n            else {\n                if (this.data)\n                    this.dropdown.showList(this._getSearchResult(value.trim()), this.options.maxResults);\n                else {\n                    this._loadData(this.source)\n                        .then(data => {\n                            this.data = data;\n                            this.dropdown.showList(this._getSearchResult(value.trim()), this.options.maxResults);\n                        }, this.options.maxResults)\n                        .catch(err => this.dropdown.showError())\n                }\n            }\n        }\n        else this.dropdown.remove();\n    },\n\n    _validate(){\n        if (!this.selected) {\n            if (this.options.ownValue) {\n                this.input.className += ' warning';\n            }\n            else this.input.className += ' error';\n        }\n    },\n\n    _onFocusEvent(){\n        document.body.addEventListener('click', this._finishTyping);\n        this.input.className = 'autocomplete';\n\n        //if(!this.selected && this.lastSearch) this.dropdown.showList(this.lastSearch.result, this.options.maxResults);\n        this.input.select();\n    },\n\n    _finishTyping(){\n        this.dropdown.remove();\n        this._validate();\n        document.body.removeEventListener('click', this._finishTyping);\n    }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./js/core.js"],"sourceRoot":""}