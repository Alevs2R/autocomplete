{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f75ce07ff77a30702546","webpack:///./js/dropdown.js","webpack:///./scss/core.scss","webpack:///./js/core.js"],"names":["Dropdown","baseElement","options","minHeight","maxHeight","position","dropdownPosition","displayedProperty","handleEvent","e","type","_keyDownEvent","NOTHING_FOUND","keynumCodes","UP","DOWN","ENTER","ESC","prototype","isCreated","isVisible","activeElement","undefined","elementsList","dropdown","_create","document","createElement","className","style","visibility","addEventListener","stopPropagation","body","appendChild","addElement","element","val","hasOwnProperty","search","property","str","pos","length","substr","li","innerHTML","_clickEvent","bind","listRow","addEmptyMessage","div","createTextNode","showList","list","clear","row","setActiveElement","firstChild","_show","event","select","target","_getHeight","availableSpace","Math","min","max","_getCoords","elem","box","getBoundingClientRect","docEl","documentElement","scrollTop","window","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","top","left","round","bottom","offsetHeight","OFFSET_INPUT","WIDTH_INCREASE","coords","offsetBottom","clientHeight","maxWidth","clientWidth","minWidth","offsetWidth","overflow","remove","parentNode","removeChild","removeEventListener","keyCode","nextSibling","previousSibling","require","module","exports","AutocompleteFactory","console","extend","a","b","prop","Autocomplete","_options","setInput","setData","source","err","error","input","value","selected","_finishTyping","_bindInputEvents","_onFocusEvent","_search","lastSearch","_loadJSON","then","data","sort","catch","Array","map","p","sortBy","v","sortOrder","result","querySelector","tagName","url","Promise","resolve","reject","xhr","XMLHttpRequest","open","onload","status","JSON","parse","responseText","statusText","onerror","send","testByEntry","replace","indexOf","_getSearchResult","searchData","startsWith","lValue","caseSensitive","toLowerCase","isValidElement","String","searchByEntry","push","maxResults","trim","_validate"],"mappings":"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","file":"js/autocomplete.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Autocomplete\"] = factory();\n\telse\n\t\troot[\"Autocomplete\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f75ce07ff77a30702546","export default Dropdown;\n\nfunction Dropdown(baseElement, options) {\n    this.minHeight = options.minHeight;\n    this.maxHeight = options.maxHeight;\n    this.baseElement = baseElement;\n    this.position = options.dropdownPosition;\n    this.displayedProperty = options.displayedProperty;\n\n    this.handleEvent = function (e) {\n        switch (e.type) {\n            case \"keydown\":\n                this._keyDownEvent(e);\n        }\n    };\n}\n\nconst NOTHING_FOUND = 'Не найдено';\n\nconst keynumCodes = {\n    UP: 38,\n    DOWN: 40,\n    ENTER: 13,\n    ESC: 27\n};\n\nDropdown.prototype = {\n\n    isCreated: false,\n    isVisible: false,\n    activeElement: undefined,\n    elementsList: null,\n    dropdown: null,\n\n    _create(){\n        let dropdown = document.createElement('div');\n        dropdown.className = 'autocomplete-dropdown';\n        dropdown.style.visibility = 'hidden';\n        dropdown.addEventListener('click', (e)=>e.stopPropagation());\n\n\n        document.body.appendChild(dropdown);\n        this.dropdown = dropdown;\n\n        this.isCreated = true;\n    },\n\n    addElement(element){\n        let val;\n        if(element.hasOwnProperty('search') && element.search.property == this.displayedProperty){\n            let str = element[this.displayedProperty];\n            let {pos, length} = element.search;\n            val = str.substr(0, pos) + '<b>' + str.substr(pos,length) + '</b>' + str.substr(pos+length);\n        }\n        else{\n            val = element[this.displayedProperty];\n        }\n\n        let li = document.createElement('li');\n        li.innerHTML = val;\n        li.addEventListener('click', this._clickEvent.bind(this));\n        li.listRow = element;\n        this.elementsList.appendChild(li);\n    },\n\n    addEmptyMessage(){\n        let div = document.createElement('div');\n        div.appendChild(document.createTextNode(NOTHING_FOUND));\n        this.dropdown.appendChild(div);\n    },\n\n    showList(list){\n        if (!this.isCreated) this._create();\n        else {\n            this.clear();\n        }\n\n        if (list.length == 0) this.addEmptyMessage();\n        else {\n            this.elementsList = document.createElement('ul');\n            this.dropdown.appendChild(this.elementsList);\n\n            for (let row of list) {\n                this.addElement(row);\n            }\n\n            this.setActiveElement(this.elementsList.firstChild);\n        }\n\n        if (!this.isVisible) {\n            this._show();\n        }\n    },\n\n    _clickEvent(event){\n        this.select(event.target.listRow);\n    },\n\n    _getHeight(availableSpace){\n        return Math.min(Math.max(this.minHeight, availableSpace), this.maxHeight);\n    },\n\n    _getCoords(elem) { // crossbrowser version\n        var box = elem.getBoundingClientRect();\n\n        var body = document.body;\n        var docEl = document.documentElement;\n\n        var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n        var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n\n        var clientTop = docEl.clientTop || body.clientTop || 0;\n        var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n\n        var top = box.top + scrollTop - clientTop;\n        var left = box.left + scrollLeft - clientLeft;\n\n        return {top: Math.round(top), bottom: Math.round(top) + elem.offsetHeight, left: Math.round(left)};\n    },\n\n    _show(){\n        if (!this.isCreated) return;\n\n        const OFFSET_INPUT = 2;\n        const WIDTH_INCREASE = 30;\n\n        let coords = this._getCoords(this.baseElement);\n        let offsetBottom = document.body.clientHeight - coords.bottom;\n\n        if (this.position == 'top' || (this.position == 'auto' && offsetBottom < this.minHeight)) {\n            this.dropdown.style.maxHeight = this._getHeight(coords.top - OFFSET_INPUT) + 'px';\n            this.dropdown.style.bottom = document.body.clientHeight - coords.top + OFFSET_INPUT + 'px';\n        }\n        else {\n            this.dropdown.style.top = (coords.top + this.baseElement.offsetHeight + OFFSET_INPUT) + \"px\";\n            this.dropdown.style.maxHeight = this._getHeight(offsetBottom - OFFSET_INPUT) + 'px';\n        }\n        let maxWidth = document.body.clientWidth - coords.left;\n\n        this.dropdown.style.left = coords.left + 'px';\n        this.dropdown.style.maxWidth = maxWidth + 'px';\n        this.dropdown.style.minWidth = Math.min(this.baseElement.offsetWidth + WIDTH_INCREASE, maxWidth) + 'px';\n        this.dropdown.style.visibility = 'visible';\n\n        document.body.style.overflow = 'hidden';\n\n        document.addEventListener('keydown', this);\n\n        this.isVisible = true;\n        //TODO reaction on window resize\n    },\n\n    setActiveElement(elem){\n        if (this.activeElement) this.activeElement.className = '';\n        elem.className = 'active';\n        this.activeElement = elem;\n    },\n\n    remove(){\n        if (!this.isCreated) return;\n        this.dropdown.parentNode.removeChild(this.dropdown);\n        document.body.style.overflow = 'auto';\n        document.removeEventListener('keydown', this);\n\n        this.isCreated = false;\n        this.isVisible = false;\n    },\n\n    clear(){\n        this.dropdown.innerHTML = '';\n    },\n\n    select(){\n    },\n\n    _keyDownEvent(event){\n        switch (event.keyCode) {\n            case keynumCodes.DOWN:\n                if (!this.activeElement.nextSibling) return;\n                this.setActiveElement(this.activeElement.nextSibling);\n                break;\n            case keynumCodes.UP:\n                if (!this.activeElement.previousSibling) return;\n                this.setActiveElement(this.activeElement.previousSibling);\n                break;\n            case keynumCodes.ENTER:\n                this.select(this.activeElement.listRow);\n                break;\n            case keynumCodes.ESC:\n                this.remove();\n                break;\n\n        }\n    },\n\n}\n;\n\n\n\n// WEBPACK FOOTER //\n// ./js/dropdown.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scss/core.scss\n// module id = 1\n// module chunks = 0","require('../scss/core.scss');\nimport Dropdown from './dropdown';\n\nmodule.exports = AutocompleteFactory;\n\nvar console = window.console;\n\n// extend objects\nfunction extend(a, b) {\n    for (var prop in b) {\n        a[prop] = b[prop];\n    }\n    return a;\n}\n\nfunction AutocompleteFactory(elem, options) {\n    return new Autocomplete(elem, options);\n}\n\nconst _options = {\n    'source': null,\n    'arrow': false,\n    'minResults': 5,\n    'maxResults': 20,\n    'minHeight': 200,\n    'maxHeight': 450,\n    'displayedProperty': \"value\",\n    'searchProperties': [],\n    'dropdownPosition': \"auto\",\n    'sort': false,\n    'sortBy': null,\n    'sortOrder': 'asc',\n    'isValidElement': ()=>true,\n    'searchByEntry': true,\n    'caseSensitive': false,\n};\n\nfunction Autocomplete(elem, options) {\n    this.options = extend(this.options, options);\n\n    try {\n        this.setInput(elem);\n        this.setData(this.options.source);\n    } catch (err){\n        console.error(err);\n        return;\n    }\n\n    this.dropdown = new Dropdown(this.input, this.options);\n\n    this.dropdown.select = function(element){\n        this.input.value = element[this.options.displayedProperty];\n        this.selected = element;\n        this._finishTyping();\n    }.bind(this);\n\n    this._bindInputEvents();\n\n    this.handleEvent = function (e) {\n        switch (e.type) {\n            case \"focus\":\n                this._onFocusEvent();\n                break;\n            case \"input\":\n                this._search(this.input.value);\n                break;\n            case \"keydown\":\n                this._keyDownEvent(e);\n        }\n    };\n\n    this._finishTyping = this._finishTyping.bind(this);\n}\n\nAutocomplete.prototype = {\n    options: _options,\n    lastSearch: null,\n    selected: undefined,\n\n    setData(source){\n        if (typeof source == 'string') this._loadJSON(source).then(data => this.data = this.sort(data)).catch(err => console.error(err));\n        else {\n            if (!(source instanceof Array)) throw 'source should be instance of Array or String';\n            let data;\n            if (typeof source[0] == 'string') {\n                data = source.map(str => {value: str});\n                this.options.displayedProperty = 'value';\n            }\n            else data = source;\n            this.data = this.sort(data);\n        }\n    },\n\n    sort(data){\n        if(!this.options.sort) return;\n        let p = this.options.sortBy ? this.options.sortBy : this.options.displayedProperty;\n        let v = this.options.sortOrder == 'asc' ? -1 : 1;\n        let result = data.sort(function(a, b){\n            if(a[p] < b[p]) return v;\n            if(a[p] > b[p]) return -v;\n            return 0;\n        });\n        return result;\n    },\n\n    setInput(elem){\n        if (typeof elem == 'string') this.input = document.querySelector(elem);\n        else if (elem.hasOwnProperty('tagName') && elem.tagName == 'input') this.input = elem;\n        else throw '1 argument should be String or instance of Element with tagName input';\n    },\n\n    _bindInputEvents(){\n        this.input.addEventListener(\"input\", this, false);\n        this.input.addEventListener(\"focus\", this, false);\n        this.input.addEventListener(\"click\", function(e){\n            e.stopPropagation();\n        });\n    },\n\n    _loadJSON(url){\n        return new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url);\n            xhr.onload = function () {\n                if (this.status >= 200 && this.status < 300) {\n                    resolve(JSON.parse(xhr.responseText));\n                } else {\n                    reject({\n                        status: this.status,\n                        statusText: xhr.statusText\n                    });\n                }\n            };\n            xhr.onerror = function () {\n                reject({\n                    status: this.status,\n                    statusText: xhr.statusText\n                });\n            };\n            xhr.send();\n        });\n    },\n\n    testByEntry(str, search){\n        str = ' '+str.replace(/\"/g,\"\");\n        return str.indexOf(' '+search);\n\n    },\n\n    _getSearchResult(value){\n        let searchData;\n        if (this.lastSearch && value.startsWith(this.lastSearch.value)) {\n            searchData = this.lastSearch.result;\n        }\n        else searchData = this.data;\n        if (!this.data) return [];\n\n        let lValue = this.options.caseSensitive ? value : value.toLowerCase();\n\n        let result = [];\n        for (let row of this.data) {\n            if(!this.options.isValidElement(row)) continue;\n\n            if(row[this.options.displayedProperty] == value) this.selected = row;\n\n            for (let property in row) {\n                if (row.hasOwnProperty(property)) {\n                    let str = this.options.caseSensitive ?  String(row[property]) :  String(row[property]).toLowerCase();\n                    if(this.options.searchByEntry){\n\n                        let pos = this.testByEntry(str, lValue);\n                        if(pos != -1){\n                            row.search = {\n                                pos, property,\n                                length: lValue.length,\n                            };\n                            result.push(row);\n                            break;\n                        }\n                    }\n                    else{\n                        if(str.startsWith(lValue)) {\n                            result.push(row);\n                            break;\n                        }\n                    }\n                }\n            }\n            if (result.length == this.options.maxResults) break;\n        }\n\n        this.lastSearch = {value, result};\n        return result;\n    },\n    _search(value){\n        this.selected = null;\n        this.dropdown.showList(this._getSearchResult(value.trim()));\n    },\n\n    _validate(){\n      if(!this.selected){\n          this.input.className += ' error';\n      }\n    },\n\n    _onFocusEvent(){\n        document.body.addEventListener('click', this._finishTyping);\n        this.input.className = 'autocomplete';\n\n        if(!this.selected && this.lastSearch) this.dropdown.showList(this.lastSearch.result);\n    },\n\n    _finishTyping(){\n        this.dropdown.remove();\n        this._validate();\n        document.body.removeEventListener('click', this._finishTyping);\n    }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./js/core.js"],"sourceRoot":""}