{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///js/autocomplete.min.js","webpack:///webpack/bootstrap 557eb7f6a448d223087b","webpack:///./js/dropdown.js","webpack:///./js/core.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Dropdown","baseElement","options","minHeight","maxHeight","position","dropdownPosition","displayedProperty","wordEndings","isCreated","isVisible","activeElement","undefined","elementsList","dropdown","isLoaderShown","default","keynumCodes","UP","DOWN","ENTER","ESC","_create","document","createElement","className","style","visibility","addEventListener","e","stopPropagation","body","appendChild","_createElement","element","val","search","str","_element$search","pos","length","substr","li","innerHTML","_clickEvent","bind","listRow","_createElementsList","elements","result","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","row","err","return","overflow","_createLoader","div","span","createTextNode","_createEmptyMessage","showLoader","clear","_show","showError","_this","CONNECTION_ERROR","RELOAD","reloadBtn","reload","onEnterClick","showList","list","_this2","maxResults","arguments","ul","setActiveElement","firstChild","slice","_getSummary","select","num","total","text","event","target","_getHeight","availableSpace","Math","min","max","_getCoords","elem","box","getBoundingClientRect","docEl","documentElement","scrollTop","window","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","top","left","round","bottom","offsetHeight","_updateWidth","WIDTH_INCREASE","leftOffset","coordLeft","maxWidth","clientWidth","minWidth","offsetWidth","width","getElementsByTagName","display","_setListHeight","totalHeight","OFFSET_INPUT","coords","offsetBottom","clientHeight","offsetTop","_resetVars","remove","parentNode","removeChild","keyDownEvent","preventdef","keyCode","nextSibling","previousSibling","preventDefault","_interopRequireDefault","obj","extend","b","a","assign","prop","AutocompleteFactory","Autocomplete","defaultOptions","setInput","setData","source","console","error","_dropdown2","input","_selectElement","_search","_bindInputEvents","handleEvent","type","_onFocusEvent","_keyDownEvent","_onClickOutside","lastSearch","selected","sourceIsDynamic","_dropdown","arrow","sort","sortBy","sortOrder","isValidElement","searchByEntry","caseSensitive","ownValue","messages","warning","Array","data","map","v","querySelector","tagName","_finishTyping","onselect","_focusToNextControl","_makeRequest","url","Promise","resolve","reject","xhr","abort","XMLHttpRequest","open","onload","status","JSON","parse","responseText","statusText","onerror","send","_abortRequest","dataRequestFinished","_loadData","that","callback","then","catch","setTimeout","interval","setInterval","clearInterval","testByEntry","replace","indexOf","_getSearchResult","startsWith","lValue","toLowerCase","String","push","trim","_validate","classList","add","_showUnderInput","messageUnderInput","removeEventListener","blur","tabIndex","inputs","focus"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,UAAAH,GACA,gBAAAC,SACAA,QAAA,aAAAD,IAEAD,EAAA,aAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAE,EAAAF,EACAG,GAAA,EACAV,WAUA,OANAK,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,GAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KA+DA,OAnCAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAG,EAAA,SAAAK,GAA2C,MAAAA,IAG3CR,EAAAS,EAAA,SAAAf,EAAAgB,EAAAC,GACAX,EAAAY,EAAAlB,EAAAgB,IACAG,OAAAC,eAAApB,EAAAgB,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAX,EAAAkB,EAAA,SAAAvB,GACA,GAAAgB,GAAAhB,KAAAwB,WACA,WAA2B,MAAAxB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAK,GAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAlB,KAAAe,EAAAC,IAGtDrB,EAAAwB,EAAA,GAGAxB,IAAAyB,EAAA,KDgBM,SAAU9B,EAAQD,EAASM,GAEjC,YE5EA,SAAS0B,GAASC,EAAaC,GAC3B9B,KAAK+B,UAAYD,EAAQC,UACzB/B,KAAKgC,UAAYF,EAAQE,UACzBhC,KAAK6B,YAAcA,EACnB7B,KAAKiC,SAAWH,EAAQI,iBACxBlC,KAAKmC,kBAAoBL,EAAQK,kBACjCnC,KAAKoC,YAAcN,EAAQM,YAG3BpC,KAAKqC,WAAY,EACjBrC,KAAKsC,WAAY,EACjBtC,KAAKuC,cAAgBC,OACrBxC,KAAKyC,aAAe,KACpBzC,KAAK0C,SAAW,KAChB1C,KAAK2C,eAAgB,EFiEzB5B,OAAOC,eAAepB,EAAS,cAC3Bc,OAAO,IAMXd,EAAQgD,QExFOhB,CAmBf,IAGMiB,IACFC,GAAI,GACJC,KAAM,GACNC,MAAO,GACPC,IAAK,GAKTrB,GAASJ,WAEL0B,QAFiB,WAGb,GAAIR,GAAWS,SAASC,cAAc,MACtCV,GAASW,UAAY,wBACrBX,EAASY,MAAMC,WAAa,SAC5Bb,EAASc,iBAAiB,QAAS,SAACC,GAAD,MAAKA,GAAEC,oBAG1CP,SAASQ,KAAKC,YAAYlB,GAC1B1C,KAAK0C,SAAWA,EAEhB1C,KAAKqC,WAAY,GAGrBwB,eAfiB,SAeFC,GACX,GAAIC,SACJ,IAAID,EAAQrC,eAAe,WAAaqC,EAAQE,OAAOzC,UAAYvB,KAAKmC,kBAAmB,CACvF,GAAI8B,GAAMH,EAAQ9D,KAAKmC,mBADgE+B,EAEnEJ,EAAQE,OAAvBG,EAFkFD,EAElFC,IAAKC,EAF6EF,EAE7EE,MACVL,GAAME,EAAII,OAAO,EAAGF,GAAO,MAAQF,EAAII,OAAOF,EAAKC,GAAU,OAASH,EAAII,OAAOF,EAAMC,OAGvFL,GAAMD,EAAQ9D,KAAKmC,kBAGvB,IAAImC,GAAKnB,SAASC,cAAc,KAKhC,OAJAkB,GAAGC,UAAYR,EACfO,EAAGd,iBAAiB,QAASxD,KAAKwE,YAAYC,KAAKzE,OACnDsE,EAAGI,QAAUZ,EAENQ,GAGXK,oBAlCiB,SAkCGC,GAChB,GAAIC,GAAS1B,SAASC,cAAc,MADX0B,GAAA,EAAAC,GAAA,EAAAC,EAAAxC,MAAA,KAGzB,OAAAyC,GAAAC,EAAgBN,EAAhBO,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA0B,IAAjBS,GAAiBN,EAAAvE,KACtBmE,GAAOjB,YAAY5D,KAAK6D,eAAe0B,KAJlB,MAAAC,GAAAT,GAAA,EAAAC,EAAAQ,EAAA,aAAAV,GAAAI,EAAAO,QAAAP,EAAAO,SAAA,WAAAV,EAAA,KAAAC,IAczB,MAPAH,GAAOrB,iBAAiB,YAAa,WACjCL,SAASQ,KAAKL,MAAMoC,SAAW,WAEnCb,EAAOrB,iBAAiB,WAAY,WAChCL,SAASQ,KAAKL,MAAMoC,SAAW,SAG5Bb,GAGXc,cAnDiB,WAoDb,GAAIC,GAAMzC,SAASC,cAAc,MACjCwC,GAAIvC,UAAY,SAChBuC,EAAIrB,UAxDG,oHAyDP,IAAIsB,GAAO1C,SAASC,cAAc,OAGlC,OAFAyC,GAAKjC,YAAYT,SAAS2C,eAnElB,aAoERF,EAAIhC,YAAYiC,GACTD,GAGXG,oBA7DiB,WA8Db,GAAIH,GAAMzC,SAASC,cAAc,MAEjC,OADAwC,GAAIhC,YAAYT,SAAS2C,eA3EX,eA4EPF,GAGXI,WAnEiB,WAoEThG,KAAK2C,gBACT3C,KAAKiG,QACLjG,KAAK0C,SAASkB,YAAY5D,KAAK2F,iBAC/B3F,KAAKkG,QACLlG,KAAK2C,eAAgB,IAGzBwD,UA3EiB,WA2EN,GAAAC,GAAApG,KACDqG,EAAmB,8EACnBC,EAAS,UAEftG,MAAKiG,OACL,IAAIL,GAAMzC,SAASC,cAAc,MACjCwC,GAAIhC,YAAYT,SAAS2C,eAAeO,GAExC,IAAIE,GAAYpD,SAASC,cAAc,MACvCmD,GAAUlD,UAAY,uBACtBkD,EAAU3C,YAAYT,SAAS2C,eAAeQ,IAE9CC,EAAU/C,iBAAiB,QAAS,iBAAI4C,GAAKI,WAC7CxG,KAAKyG,aAAe,iBAAML,GAAKI,UAE/BxG,KAAK0C,SAASkB,YAAYgC,GAC1B5F,KAAK0C,SAASkB,YAAY2C,GAE1BvG,KAAKkG,SAGTQ,SAhGiB,SAgGRC,GAAwB,GAAAC,GAAA5G,KAAlB6G,EAAkBC,UAAA1C,OAAA,GAAA5B,SAAAsE,UAAA,GAAAA,UAAA,GAAL,IAGxB,IAFA9G,KAAKiG,QAEc,GAAfU,EAAKvC,OAAapE,KAAK0C,SAASkB,YAAY5D,KAAK+F,2BAChD,CACD,GAAkB,MAAdc,GAAsBF,EAAKvC,QAAUyC,EAAY,CACjD,GAAIE,GAAK/G,KAAK2E,oBAAoBgC,EAClC3G,MAAK0C,SAASkB,YAAYmD,GAC1B/G,KAAKgH,iBAAiBD,EAAGE,gBACtB,CACH,GAAIF,GAAK/G,KAAK2E,oBAAoBgC,EAAKO,MAAM,EAAGL,GAChD7G,MAAK0C,SAASkB,YAAYmD,GAC1B/G,KAAKgH,iBAAiBD,EAAGE,YACzBjH,KAAK0C,SAASkB,YAAY5D,KAAKmH,YAAYN,EAAYF,EAAKvC,SAGhEpE,KAAKyG,aAAe,iBAAMG,GAAKQ,OAAOR,EAAKrE,cAAcmC,UAK7D1E,KAAKkG,SAKTiB,YA1HiB,SA0HLE,EAAKC,GACb,GAAI1B,GAAMzC,SAASC,cAAc,OAC7Ba,EAAOqD,EAAQ,KAAO,IAAMA,EAAQ,IAAM,EAAK,cAAgBtH,KAAKoC,YAAY,GAAK,aAAepC,KAAKoC,YAAY,GACrHmF,EAAO,YAAcF,EAAM,OAASC,EAAQ,IAAMrD,EAAM,4CAG5D,OAFA2B,GAAIhC,YAAYT,SAAS2C,eAAeyB,IACxC3B,EAAIvC,UAAY,uBACTuC,GAGXpB,YAnIiB,SAmILgD,GACRxH,KAAKoH,OAAOI,EAAMC,OAAO/C,UAG7BgD,WAvIiB,SAuINC,GACP,MAAOC,MAAKC,IAAID,KAAKE,IAAI9H,KAAK+B,UAAW4F,GAAiB3H,KAAKgC,YAGnE+F,WA3IiB,SA2INC,GACP,GAAIC,GAAMD,EAAKE,wBAEXvE,EAAOR,SAASQ,KAChBwE,EAAQhF,SAASiF,gBAEjBC,EAAYC,OAAOC,aAAeJ,EAAME,WAAa1E,EAAK0E,UAC1DG,EAAaF,OAAOG,aAAeN,EAAMK,YAAc7E,EAAK6E,WAE5DE,EAAYP,EAAMO,WAAa/E,EAAK+E,WAAa,EACjDC,EAAaR,EAAMQ,YAAchF,EAAKgF,YAAc,EAEpDC,EAAMX,EAAIW,IAAMP,EAAYK,EAC5BG,EAAOZ,EAAIY,KAAOL,EAAaG,CAEnC,QAAQC,IAAKhB,KAAKkB,MAAMF,GAAMG,OAAQnB,KAAKkB,MAAMF,GAAOZ,EAAKgB,aAAcH,KAAMjB,KAAKkB,MAAMD,KAGhGI,aA7JiB,WA8Jb,GAAMC,GAAiB,GAEnBC,EAAanJ,KAAK0C,SAAS0G,UAE3BC,EAAWlG,SAASQ,KAAK2F,YAAcH,EACvCI,EAAW3B,KAAKC,IAAI7H,KAAK6B,YAAY2H,YAAcN,EAAgBG,GAEnEI,SACA1C,EAAK/G,KAAK0C,SAASgH,qBAAqB,KACxC3C,GAAG3C,OAAS,GACZpE,KAAK0C,SAASY,MAAMmG,MAAQ,OAC5BA,EAAQ7B,KAAKC,IAAID,KAAKE,IAAIyB,EAAUxC,EAAG,GAAGyC,YAAc,GAAIH,GAC5DtC,EAAG,GAAGzD,MAAMmG,MAAQ,OACpB1C,EAAG,GAAGzD,MAAMqG,QAAU,SAGrBF,EAAQF,EACbvJ,KAAK0C,SAASY,MAAMmG,MAAQA,EAAQ,MAGxCG,eAlLiB,SAkLFC,GACX,GACI9C,GAAK/G,KAAK0C,SAASgH,qBAAqB,KACxC3C,GAAG3C,OAAS,IACRpE,KAAK0C,SAASgH,qBAAqB,OAAOtF,OAAS,EACnD2C,EAAG,GAAGzD,MAAMtB,UAAa6H,EAJX,GAI0C,KAEvD9C,EAAG,GAAGzD,MAAMtB,UAAY6H,EAAc,OAInD3D,MA7LiB,WA8Lb,GAAKlG,KAAKqC,UAAV,CAEA,GAAMyH,GAAe,EAEjBC,EAAS/J,KAAK+H,WAAW/H,KAAK6B,aAC9BmI,EAAe7G,SAASQ,KAAKsG,aAAeF,EAAOhB,MAElC,QAAjB/I,KAAKiC,UAAuC,QAAjBjC,KAAKiC,UAAsB+H,EAAehK,KAAK+B,WAC1E/B,KAAK4J,eAAe5J,KAAK0H,WAAWqC,EAAOnB,IAAMkB,IACjD9J,KAAK0C,SAASY,MAAMyF,OAAS5F,SAASQ,KAAKsG,aAAeF,EAAOnB,IAAMkB,EAAe,OAGtF9J,KAAK0C,SAASY,MAAMsF,IAAOmB,EAAOnB,IAAM5I,KAAK6B,YAAYmH,aAAec,EAAgB,KACxF9J,KAAK4J,eAAe5J,KAAK0H,WAAWsC,EAAeF,KAGvD9J,KAAK0C,SAAS0G,UAAYW,EAAOlB,KACjC7I,KAAK0C,SAASY,MAAMuF,KAAOkB,EAAOlB,KAAO,KAEzC7I,KAAKiJ,eAELjJ,KAAK0C,SAASY,MAAMC,WAAa,UAEjCvD,KAAKsC,WAAY,IAIrB0E,iBAzNiB,SAyNAgB,GACThI,KAAKuC,gBAAevC,KAAKuC,cAAcc,UAAY,IACvD2E,EAAK3E,UAAY,SACjBrD,KAAKuC,cAAgByF,CAErB,IAAIkC,GAAYlC,EAAKkC,UACjBF,EAAeE,EAAY,GAC3BnD,EAAK/G,KAAK0C,SAASgH,qBAAqB,MAAM,EAC9C3C,GAAGsB,UAAYtB,EAAGkD,aAAeD,EACjCjD,EAAGsB,UAAY2B,EAAejD,EAAGkD,aAE5BC,EAAYnD,EAAGsB,YACpBtB,EAAGsB,UAAY6B,IAIvBC,WAzOiB,WA0ObnK,KAAKqC,WAAY,EACjBrC,KAAKsC,WAAY,EACjBtC,KAAKuC,cAAgB,KACrBvC,KAAK2C,eAAgB,GAGzByH,OAhPiB,WAiPRpK,KAAKqC,YAEVrC,KAAKmK,aACLnK,KAAK0C,SAAS2H,WAAWC,YAAYtK,KAAK0C,UAC1CS,SAASQ,KAAKL,MAAMoC,SAAW,SAGnCO,MAxPiB,WAyPbjG,KAAK2C,eAAgB,EACrB3C,KAAKuC,cAAgB,KAChBvC,KAAKqC,UAENrC,KAAK0C,SAAS6B,UAAY,GAFTvE,KAAKkD,WAM9BkE,OAjQiB,aAqQjBmD,aArQiB,SAqQJ/C,GACT,GAAIgD,IAAa,CACjB,QAAQhD,EAAMiD,SACV,IAAK5H,GAAYE,KACb,IAAK/C,KAAKuC,gBAAkBvC,KAAKuC,cAAcmI,YAAa,MAC5D1K,MAAKgH,iBAAiBhH,KAAKuC,cAAcmI,YACzC,MACJ,KAAK7H,GAAYC,GACb,IAAK9C,KAAKuC,gBAAkBvC,KAAKuC,cAAcoI,gBAAiB,MAChE3K,MAAKgH,iBAAiBhH,KAAKuC,cAAcoI,gBACzC,MACJ,KAAK9H,GAAYG,MACThD,KAAKyG,cAAczG,KAAKyG,cAC5B,MACJ,KAAK5D,GAAYI,IACbjD,KAAKoK,QACL,MACJ,SACII,GAAa,EAGjBA,GAAYhD,EAAMoD,oBFsGxB,SAAU/K,EAAQD,KAMlB,SAAUC,EAAQD,EAASM,GAEjC,YAOA,SAAS2K,GAAuBC,GAAO,MAAOA,IAAOA,EAAIzJ,WAAayJ,GAAQlI,QAASkI,GGxavF,QAASC,GAAOpJ,EAAGqJ,GACf,GAAIC,KACJlK,QAAOmK,OAAOD,EAAGtJ,EACjB,KAAK,GAAIwJ,KAAQH,GACbC,EAAEE,GAAQH,EAAEG,EAEhB,OAAOF,GAGX,QAASG,GAAoBpD,EAAMlG,GAC/B,MAAO,IAAIuJ,GAAarD,EAAMlG,GAqBlC,QAASuJ,GAAarD,EAAMlG,GAExB9B,KAAK8B,QAAUiJ,EAAOO,EAAgBxJ,EAEtC,KACI9B,KAAKuL,SAASvD,GACdhI,KAAKwL,QAAQxL,KAAK8B,QAAQ2J,QAC5B,MAAOjG,GAEL,WADA8C,QAAOoD,QAAQC,MAAMnG,GAIzBxF,KAAK0C,SAAW,GAAAkJ,GAAAhJ,QAAa5C,KAAK6L,MAAO7L,KAAK8B,SAE9C9B,KAAK0C,SAAS0E,OAASpH,KAAK8L,eAAerH,KAAKzE,MAEhDA,KAAK0C,SAAS8D,OAAS,WACnBxG,KAAK+L,QAAQ/L,KAAK6L,MAAMnL,QAC1B+D,KAAKzE,MAEPA,KAAKgM,mBAELhM,KAAKiM,YAAc,SAAUxI,GACzB,OAAQA,EAAEyI,MACN,IAAK,QACDlM,KAAKmM,eACL,MACJ,KAAK,QACDnM,KAAK+L,QAAQ/L,KAAK6L,MAAMnL,MACxB,MACJ,KAAK,UACDV,KAAKoM,cAAc3I,KAK/BzD,KAAKqM,gBAAkBrM,KAAKqM,gBAAgB5H,KAAKzE,MAEjDA,KAAKsM,WAAa,KAClBtM,KAAKuM,SAAW/J,OAChBxC,KAAKwM,iBAAkB,EA5E3B,GAAAC,GAAAvM,EAAA,GH2aI0L,EAAaf,EAAuB4B,EG5axCvM,GAAQ,GAGRL,EAAOD,QAAUwL,CAgBjB,IAAME,IACFG,OAAU,KACViB,OAAS,EACT7F,WAAc,EACd9E,UAAa,IACbC,UAAa,IACbG,kBAAqB,QACrBD,iBAAoB,OACpByK,MAAQ,EACRC,OAAU,KACVC,UAAa,MACbC,eAAkB,kBAAI,GACtBC,eAAiB,EACjBC,eAAiB,EACjB5K,YAAe,KACf6K,UAAY,EA8ChB5B,GAAa7J,WACT0L,UACIvB,MAAO,8BACPwB,QAAS,sEAGb3B,QANqB,SAMbC,GACJ,GAAqB,gBAAVA,GACPzL,KAAKyL,OAASA,MAEb,IAAqB,kBAAVA,GACZzL,KAAKyL,OAASA,EACdzL,KAAKwM,iBAAkB,MAEtB,CACD,KAAMf,YAAkB2B,QAAQ,KAAM,8CACtC,IAAIC,SACoB,iBAAb5B,GAAO,IACd4B,EAAO5B,EAAO6B,IAAI,SAAArJ,MAGlBjE,KAAK8B,QAAQK,kBAAoB,SAEhCkL,EAAO5B,EACZzL,KAAKqN,KAAOrN,KAAK2M,KAAKU,KAI9BV,KA5BqB,SA4BhBU,GACD,GAAKrN,KAAK8B,QAAQ6K,KAAlB,CACA,GAAIjL,GAAI1B,KAAK8B,QAAQ8K,OAAS5M,KAAK8B,QAAQ8K,OAAS5M,KAAK8B,QAAQK,kBAC7DoL,EAA8B,OAA1BvN,KAAK8B,QAAQ+K,WAAqB,EAAK,CAM/C,OALaQ,GAAKV,KAAK,SAAU1B,EAAGD,GAChC,MAAIC,GAAEvJ,GAAKsJ,EAAEtJ,GAAW6L,EACpBtC,EAAEvJ,GAAKsJ,EAAEtJ,IAAY6L,EAClB,MAKfhC,SAxCqB,SAwCZvD,GACL,GAAmB,gBAARA,GAAkBhI,KAAK6L,MAAQ1I,SAASqK,cAAcxF,OAC5D,KAAIA,EAAKvG,eAAe,YAA8B,SAAhBuG,EAAKyF,QAC3C,KAAM,uEADyDzN,MAAK6L,MAAQ7D,IAIrF8D,eA9CqB,SA8CNhI,GACX9D,KAAK6L,MAAMnL,MAAQoD,EAAQ9D,KAAK8B,QAAQK,mBACxCnC,KAAKuM,SAAWzI,EAChB9D,KAAK0N,gBACL1N,KAAK2N,SAAS7J,IAGlB6J,SArDqB,aAyDrB3B,iBAzDqB,WA0DjBhM,KAAK6L,MAAMrI,iBAAiB,QAASxD,MAAM,GAC3CA,KAAK6L,MAAMrI,iBAAiB,QAASxD,MAAM,IAG/CoM,cA9DqB,SA8DP5E,GACNxH,KAAK0C,SAASJ,WAAWtC,KAAK0C,SAAS6H,aAAa/C,GACnC,GAAjBA,EAAMiD,SAAiC,IAAjBjD,EAAMiD,UAC5BzK,KAAK0N,gBACL1N,KAAK4N,wBAIbC,aAtEqB,SAsERC,GACT,MAAO,IAAIC,SAAQ,SAAUC,EAASC,GAC9BjO,KAAKkO,KAAKlO,KAAKkO,IAAIC,OAEvB,IAAID,GAAM,GAAIE,eACdF,GAAIG,KAAK,MAAOP,GAChBI,EAAII,OAAS,WACLtO,KAAKuO,QAAU,KAAOvO,KAAKuO,OAAS,IACpCP,EAAQQ,KAAKC,MAAMP,EAAIQ,eAEvBT,GACIM,OAAQvO,KAAKuO,OACbI,WAAYT,EAAIS,cAI5BT,EAAIU,QAAU,WACVX,GACIM,OAAQvO,KAAKuO,OACbI,WAAYT,EAAIS,cAGxBT,EAAIW,OACJ7O,KAAKkO,IAAMA,GACbzJ,KAAKzE,QAGX8O,cAjGqB,WAkGb9O,KAAKkO,KAAKlO,KAAKkO,IAAIC,QACvBnO,KAAK+O,qBAAsB,GAG/BC,UAtGqB,SAsGXlB,GACN,GAAImB,GAAOjP,IAEX,OAAO,IAAI+N,SAAQ,SAAUC,EAASC,GAElC,GAAIiB,SACJD,GAAKF,qBAAsB,EAE3BE,EAAKpB,aAAaC,GACbqB,KAAK,SAAA9B,GACF6B,EAAW,iBAAMlB,GAAQX,MAE5B+B,MAAM,SAAAzD,GACHuD,EAAW,iBAAMjB,GAAOtC,MAE3BwD,KAAK,WACFF,EAAKF,qBAAsB,EACtBE,EAAKvM,SAASC,eAAeuM,MAG1CG,WAAW,WACP,IAAKJ,EAAKF,oBAAqB,CAC3BE,EAAKvM,SAASsD,YACd,IAAIsJ,GAAWC,YAAY,WACnBN,EAAKF,sBACLS,cAAcF,GACVJ,GAAUA,MAEnB,OAER,QAIXO,YAxIqB,SAwITxL,EAAKD,GAEb,MADAC,GAAM,IAAMA,EAAIyL,QAAQ,KAAM,IACvBzL,EAAI0L,QAAQ,IAAM3L,IAI7B4L,iBA9IqB,SA8IJlP,GAMb,GAJIV,KAAKsM,YAAc5L,EAAMmP,WAAW7P,KAAKsM,WAAW5L,OACvCV,KAAKsM,WAAWzH,OAEf7E,KAAKqN,MAClBrN,KAAKqN,KAAM,QAEhB,IAAIyC,GAAS9P,KAAK8B,QAAQkL,cAAgBtM,EAAQA,EAAMqP,cAEpDlL,KAVeC,GAAA,EAAAC,GAAA,EAAAC,EAAAxC,MAAA,KAWnB,OAAAyC,GAAAC,EAAgBlF,KAAKqN,KAArBlI,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA2B,IAAlBS,GAAkBN,EAAAvE,KACvB,IAAKV,KAAK8B,QAAQgL,eAAevH,GAAjC,CAEIA,EAAIvF,KAAK8B,QAAQK,oBAAsBzB,IAAOV,KAAKuM,SAAWhH,EAElE,KAAK,GAAIhE,KAAYgE,GACjB,GAAIA,EAAI9D,eAAeF,GAAW,CAC9B,GAAI0C,GAAMjE,KAAK8B,QAAQkL,cAAgBgD,OAAOzK,EAAIhE,IAAayO,OAAOzK,EAAIhE,IAAWwO,aACrF,IAAI/P,KAAK8B,QAAQiL,cAAe,CAE5B,GAAI5I,GAAMnE,KAAKyP,YAAYxL,EAAK6L,EAChC,IAAI3L,IAAO,EAAI,CACXoB,EAAIvB,QACAG,MAAK5C,WACL6C,OAAQ0L,EAAO1L,QAEnBS,EAAOoL,KAAK1K,EACZ,YAIJ,IAAItB,EAAI4L,WAAWC,GAAS,CACxBjL,EAAOoL,KAAK1K,EACZ,WAlCD,MAAAC,GAAAT,GAAA,EAAAC,EAAAQ,EAAA,aAAAV,GAAAI,EAAAO,QAAAP,EAAAO,SAAA,WAAAV,EAAA,KAAAC,IA0CnB,MADAhF,MAAKsM,YAAc5L,QAAOmE,UACnBA,GAEXkH,QA1LqB,SA0LbrL,GAAM,GAAA0F,GAAApG,IACVA,MAAKuM,SAAW,KACZ7L,EACIV,KAAKwM,gBACLxM,KAAKgP,UAAUhP,KAAKyL,OAAO/K,IACtByO,KAAK,SAAA9B,GAAA,MAAQjH,GAAK1D,SAASgE,SAASN,EAAKuG,KAAKU,GAAOjH,EAAKtE,QAAQ+E,cAClEuI,MAAM,SAAA5J,GAAA,MAAOY,GAAK1D,SAASyD,cAG5BnG,KAAKqN,KACLrN,KAAK0C,SAASgE,SAAS1G,KAAK4P,iBAAiBlP,EAAMwP,QAASlQ,KAAK8B,QAAQ+E,YAEzE7G,KAAKgP,UAAUhP,KAAKyL,QACf0D,KAAK,SAAA9B,GACFjH,EAAKiH,KAAOjH,EAAKuG,KAAKU,GACtBjH,EAAK1D,SAASgE,SAASN,EAAKwJ,iBAAiBlP,EAAMwP,QAAS9J,EAAKtE,QAAQ+E,aAC1E7G,KAAK8B,QAAQ+E,YACfuI,MAAM,SAAA5J,GAAA,MAAOY,GAAK1D,SAASyD,cAIvCnG,KAAK0C,SAAS0H,UAGvB+F,UAlNqB,WAmNZnQ,KAAKuM,SAULvM,KAAK6L,MAAMuE,UAAUC,IAAI,aATtBrQ,KAAK8B,QAAQmL,UACbjN,KAAK6L,MAAMuE,UAAUC,IAAI,WACzBrQ,KAAKsQ,gBAAgBtQ,KAAKkN,SAASC,QAAS,aAG5CnN,KAAK6L,MAAMuE,UAAUC,IAAI,SACzBrQ,KAAKsQ,gBAAgBtQ,KAAKkN,SAASvB,MAAO,WAMtDQ,cAhOqB,WAiOjBhJ,SAASQ,KAAKH,iBAAiB,QAASxD,KAAKqM,iBAC7CrM,KAAK6L,MAAMxI,UAAY,eACnBrD,KAAKuQ,oBACLvQ,KAAK6L,MAAMxB,WAAWC,YAAYtK,KAAKuQ,mBACvCvQ,KAAKuQ,kBAAoB,MAI7BvQ,KAAK6L,MAAMzE,SACXpH,KAAKsM,WAAa,KAElBnJ,SAASK,iBAAiB,UAAWxD,OAGzCqM,gBA/OqB,SA+OL7E,GACTA,EAAMC,QAAUzH,KAAK6L,OACxB7L,KAAK0N,iBAGTA,cApPqB,WAyPjB,GAFK1N,KAAK+O,qBAAqB/O,KAAK8O,iBAE/B9O,KAAKuM,UAAYvM,KAAKsM,YAA+C,GAAjCtM,KAAKsM,WAAWzH,OAAOT,OAAa,CACzE,GAAI4D,GAAOhI,KAAKsM,WAAWzH,OAAO,EAClC7E,MAAK8L,eAAe9D,GAExBhI,KAAK0C,SAAS0H,SACdpK,KAAKmQ,YACLhN,SAASQ,KAAK6M,oBAAoB,QAASxQ,KAAKqM,iBAChDlJ,SAASqN,oBAAoB,UAAWxQ,MACxCA,KAAK6L,MAAM2E,oBAAoB,QAASxQ,OAG5CsQ,gBApQqB,SAoQL/I,EAAMlE,GAClB,GAAIuC,GAAMzC,SAASC,cAAc,MACjCwC,GAAIwK,UAAUC,IAAI,wBAClBzK,EAAIwK,UAAUC,IAAIhN,GAClBuC,EAAIrB,UAAYgD,EAChB3B,EAAItC,MAAMsF,IAAM5I,KAAK6L,MAAM7C,aAE3BhJ,KAAK6L,MAAMxB,WAAWzG,YAAYgC,GAClC5F,KAAKuQ,kBAAoB3K,GAG7BgI,oBA/QqB,WAgRjB5N,KAAK6L,MAAM4E,MACX,IAAIpL,GAAOlC,SAASqK,cAAc,gBAAkBxN,KAAK6L,MAAM6E,SAAW,GAAK,KAC/E,KAAKrL,EAAM,CACP,GAAIsL,GAASvD,MAAM5L,UAAU0F,MAAM3G,KAAK4C,SAASuG,qBAAqB,SACtErE,GAAOsL,EAAOA,EAAOhB,QAAQ3P,KAAK6L,OAAS,GAE3CxG,GAAMA,EAAKuL","file":"js/autocomplete.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Autocomplete\"] = factory();\n\telse\n\t\troot[\"Autocomplete\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Autocomplete\"] = factory();\n\telse\n\t\troot[\"Autocomplete\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/*\n@author Alexey Evlampev\n */\n\nexports.default = Dropdown;\n\n\nfunction Dropdown(baseElement, options) {\n    this.minHeight = options.minHeight;\n    this.maxHeight = options.maxHeight;\n    this.baseElement = baseElement;\n    this.position = options.dropdownPosition;\n    this.displayedProperty = options.displayedProperty;\n    this.wordEndings = options.wordEndings;\n\n    this.isCreated = false;\n    this.isVisible = false;\n    this.activeElement = undefined;\n    this.elementsList = null;\n    this.dropdown = null;\n    this.isLoaderShown = false;\n}\n\nvar NOTHING_FOUND = 'Не найдено';\nvar LOADING = 'Загрузка';\n\nvar keynumCodes = {\n    UP: 38,\n    DOWN: 40,\n    ENTER: 13,\n    ESC: 27\n};\n\nvar loader = '<svg class=\"circle\" width=\"16\" height=\"16\"><circle class=\"path\" cx=\"8\" cy=\"8\" r=\"6\" stroke-miterlimit=\"10\"/></svg>';\n\nDropdown.prototype = {\n    _create: function _create() {\n        var dropdown = document.createElement('div');\n        dropdown.className = 'autocomplete-dropdown';\n        dropdown.style.visibility = 'hidden';\n        dropdown.addEventListener('click', function (e) {\n            return e.stopPropagation();\n        });\n\n        document.body.appendChild(dropdown);\n        this.dropdown = dropdown;\n\n        this.isCreated = true;\n    },\n    _createElement: function _createElement(element) {\n        var val = void 0;\n        if (element.hasOwnProperty('search') && element.search.property == this.displayedProperty) {\n            var str = element[this.displayedProperty];\n            var _element$search = element.search,\n                pos = _element$search.pos,\n                length = _element$search.length;\n\n            val = str.substr(0, pos) + '<b>' + str.substr(pos, length) + '</b>' + str.substr(pos + length);\n        } else {\n            val = element[this.displayedProperty];\n        }\n\n        var li = document.createElement('li');\n        li.innerHTML = val;\n        li.addEventListener('click', this._clickEvent.bind(this));\n        li.listRow = element;\n\n        return li;\n    },\n    _createElementsList: function _createElementsList(elements) {\n        var result = document.createElement('ul');\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = elements[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var row = _step.value;\n\n                result.appendChild(this._createElement(row));\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        result.addEventListener('mouseover', function () {\n            document.body.style.overflow = 'hidden';\n        });\n        result.addEventListener('mouseout', function () {\n            document.body.style.overflow = 'auto';\n        });\n\n        return result;\n    },\n    _createLoader: function _createLoader() {\n        var div = document.createElement('div');\n        div.className = \"loader\";\n        div.innerHTML = loader;\n        var span = document.createElement('span');\n        span.appendChild(document.createTextNode(LOADING));\n        div.appendChild(span);\n        return div;\n    },\n    _createEmptyMessage: function _createEmptyMessage() {\n        var div = document.createElement('div');\n        div.appendChild(document.createTextNode(NOTHING_FOUND));\n        return div;\n    },\n    showLoader: function showLoader() {\n        if (this.isLoaderShown) return;\n        this.clear();\n        this.dropdown.appendChild(this._createLoader());\n        this._show();\n        this.isLoaderShown = true;\n    },\n    showError: function showError() {\n        var _this = this;\n\n        var CONNECTION_ERROR = 'Что-то пошло не так. Проверьте соединение с интернетом и попробуйте еще раз';\n        var RELOAD = 'Обновить';\n\n        this.clear();\n        var div = document.createElement('div');\n        div.appendChild(document.createTextNode(CONNECTION_ERROR));\n\n        var reloadBtn = document.createElement('div');\n        reloadBtn.className = 'autocomplete-control';\n        reloadBtn.appendChild(document.createTextNode(RELOAD));\n\n        reloadBtn.addEventListener('click', function () {\n            return _this.reload();\n        });\n        this.onEnterClick = function () {\n            return _this.reload();\n        };\n\n        this.dropdown.appendChild(div);\n        this.dropdown.appendChild(reloadBtn);\n\n        this._show();\n    },\n    showList: function showList(list) {\n        var _this2 = this;\n\n        var maxResults = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n        this.clear();\n\n        if (list.length == 0) this.dropdown.appendChild(this._createEmptyMessage());else {\n            if (maxResults == null || list.length <= maxResults) {\n                var ul = this._createElementsList(list);\n                this.dropdown.appendChild(ul);\n                this.setActiveElement(ul.firstChild);\n            } else {\n                var _ul = this._createElementsList(list.slice(0, maxResults));\n                this.dropdown.appendChild(_ul);\n                this.setActiveElement(_ul.firstChild);\n                this.dropdown.appendChild(this._getSummary(maxResults, list.length));\n            }\n\n            this.onEnterClick = function () {\n                return _this2.select(_this2.activeElement.listRow);\n            };\n        }\n\n        //if (!this.isVisible) {\n        this._show();\n        //}\n        //else this._updateWidth();\n    },\n    _getSummary: function _getSummary(num, total) {\n        var div = document.createElement('div');\n        var str = total % 100 != 11 && total % 10 == 1 ? 'найденного ' + this.wordEndings[0] : 'найденных ' + this.wordEndings[1];\n        var text = 'Показано ' + num + ' из ' + total + ' ' + str + '. Уточните запрос, чтобы увидеть остальные';\n        div.appendChild(document.createTextNode(text));\n        div.className = \"autocomplete-summary\";\n        return div;\n    },\n    _clickEvent: function _clickEvent(event) {\n        this.select(event.target.listRow);\n    },\n    _getHeight: function _getHeight(availableSpace) {\n        return Math.min(Math.max(this.minHeight, availableSpace), this.maxHeight);\n    },\n    _getCoords: function _getCoords(elem) {\n        // crossbrowser version\n        var box = elem.getBoundingClientRect();\n\n        var body = document.body;\n        var docEl = document.documentElement;\n\n        var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n        var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n\n        var clientTop = docEl.clientTop || body.clientTop || 0;\n        var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n\n        var top = box.top + scrollTop - clientTop;\n        var left = box.left + scrollLeft - clientLeft;\n\n        return { top: Math.round(top), bottom: Math.round(top) + elem.offsetHeight, left: Math.round(left) };\n    },\n    _updateWidth: function _updateWidth() {\n        var WIDTH_INCREASE = 30;\n\n        var leftOffset = this.dropdown.coordLeft;\n\n        var maxWidth = document.body.clientWidth - leftOffset;\n        var minWidth = Math.min(this.baseElement.offsetWidth + WIDTH_INCREASE, maxWidth);\n\n        var width = void 0;\n        var ul = this.dropdown.getElementsByTagName('ul');\n        if (ul.length > 0) {\n            this.dropdown.style.width = 'auto';\n            width = Math.min(Math.max(minWidth, ul[0].offsetWidth + 1), maxWidth);\n            ul[0].style.width = '100%';\n            ul[0].style.display = 'block';\n        } else width = minWidth;\n        this.dropdown.style.width = width + 'px';\n    },\n    _setListHeight: function _setListHeight(totalHeight) {\n        var summaryHeight = 42;\n        var ul = this.dropdown.getElementsByTagName('ul');\n        if (ul.length > 0) {\n            if (this.dropdown.getElementsByTagName('div').length > 0) {\n                ul[0].style.maxHeight = totalHeight - summaryHeight + 'px';\n            } else ul[0].style.maxHeight = totalHeight + 'px';\n        }\n    },\n    _show: function _show() {\n        if (!this.isCreated) return;\n\n        var OFFSET_INPUT = 2;\n\n        var coords = this._getCoords(this.baseElement);\n        var offsetBottom = document.body.clientHeight - coords.bottom;\n\n        if (this.position == 'top' || this.position == 'auto' && offsetBottom < this.minHeight) {\n            this._setListHeight(this._getHeight(coords.top - OFFSET_INPUT));\n            this.dropdown.style.bottom = document.body.clientHeight - coords.top + OFFSET_INPUT + 'px';\n        } else {\n            this.dropdown.style.top = coords.top + this.baseElement.offsetHeight + OFFSET_INPUT + \"px\";\n            this._setListHeight(this._getHeight(offsetBottom - OFFSET_INPUT));\n        }\n\n        this.dropdown.coordLeft = coords.left;\n        this.dropdown.style.left = coords.left + 'px';\n\n        this._updateWidth();\n\n        this.dropdown.style.visibility = 'visible';\n\n        this.isVisible = true;\n        //TODO reaction on window resize\n    },\n    setActiveElement: function setActiveElement(elem) {\n        if (this.activeElement) this.activeElement.className = '';\n        elem.className = 'active';\n        this.activeElement = elem;\n\n        var offsetTop = elem.offsetTop,\n            offsetBottom = offsetTop + 30;\n        var ul = this.dropdown.getElementsByTagName('ul')[0];\n        if (ul.scrollTop + ul.clientHeight < offsetBottom) {\n            ul.scrollTop = offsetBottom - ul.clientHeight;\n        } else if (offsetTop < ul.scrollTop) {\n            ul.scrollTop = offsetTop;\n        }\n    },\n    _resetVars: function _resetVars() {\n        this.isCreated = false;\n        this.isVisible = false;\n        this.activeElement = null;\n        this.isLoaderShown = false;\n    },\n    remove: function remove() {\n        if (!this.isCreated) return;\n\n        this._resetVars();\n        this.dropdown.parentNode.removeChild(this.dropdown);\n        document.body.style.overflow = 'auto';\n    },\n    clear: function clear() {\n        this.isLoaderShown = false;\n        this.activeElement = null;\n        if (!this.isCreated) this._create();else {\n            this.dropdown.innerHTML = '';\n        }\n    },\n    select: function select() {\n        // callback, should be set by client\n    },\n    keyDownEvent: function keyDownEvent(event) {\n        var preventdef = true;\n        switch (event.keyCode) {\n            case keynumCodes.DOWN:\n                if (!this.activeElement || !this.activeElement.nextSibling) return;\n                this.setActiveElement(this.activeElement.nextSibling);\n                break;\n            case keynumCodes.UP:\n                if (!this.activeElement || !this.activeElement.previousSibling) return;\n                this.setActiveElement(this.activeElement.previousSibling);\n                break;\n            case keynumCodes.ENTER:\n                if (this.onEnterClick) this.onEnterClick();\n                break;\n            case keynumCodes.ESC:\n                this.remove();\n                break;\n            default:\n                preventdef = false;\n                break;\n        }\n        if (preventdef) event.preventDefault();\n    }\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _dropdown = __webpack_require__(0);\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n@author Alexey Evlampev\n */\n\n__webpack_require__(1);\n\n\nmodule.exports = AutocompleteFactory;\n\n// extend objects\nfunction extend(s, b) {\n    var a = {};\n    Object.assign(a, s);\n    for (var prop in b) {\n        a[prop] = b[prop];\n    }\n    return a;\n}\n\nfunction AutocompleteFactory(elem, options) {\n    return new Autocomplete(elem, options);\n}\n\nvar defaultOptions = {\n    'source': null,\n    'arrow': false,\n    'maxResults': 5,\n    'minHeight': 200,\n    'maxHeight': 450,\n    'displayedProperty': \"value\",\n    'dropdownPosition': \"auto\",\n    'sort': false,\n    'sortBy': null,\n    'sortOrder': 'asc',\n    'isValidElement': function isValidElement() {\n        return true;\n    },\n    'searchByEntry': false,\n    'caseSensitive': false,\n    'wordEndings': null,\n    'ownValue': false\n};\n\nfunction Autocomplete(elem, options) {\n\n    this.options = extend(defaultOptions, options);\n\n    try {\n        this.setInput(elem);\n        this.setData(this.options.source);\n    } catch (err) {\n        window.console.error(err);\n        return;\n    }\n\n    this.dropdown = new _dropdown2.default(this.input, this.options);\n\n    this.dropdown.select = this._selectElement.bind(this);\n\n    this.dropdown.reload = function () {\n        this._search(this.input.value);\n    }.bind(this);\n\n    this._bindInputEvents();\n\n    this.handleEvent = function (e) {\n        switch (e.type) {\n            case \"focus\":\n                this._onFocusEvent();\n                break;\n            case \"input\":\n                this._search(this.input.value);\n                break;\n            case \"keydown\":\n                this._keyDownEvent(e);\n                break;\n        }\n    };\n\n    this._onClickOutside = this._onClickOutside.bind(this);\n\n    this.lastSearch = null;\n    this.selected = undefined;\n    this.sourceIsDynamic = false;\n}\n\nAutocomplete.prototype = {\n    messages: {\n        error: 'Выберите значение из списка',\n        warning: 'Значения нет в справочнике. <br> Возможно, вы ошиблись в написании'\n    },\n\n    setData: function setData(source) {\n        if (typeof source == 'string') {\n            this.source = source; // data will be loaded later\n        } else if (typeof source == 'function') {\n            this.source = source;\n            this.sourceIsDynamic = true;\n        } else {\n            if (!(source instanceof Array)) throw 'source should be instance of Array or String';\n            var data = void 0;\n            if (typeof source[0] == 'string') {\n                data = source.map(function (str) {\n                    value: str;\n                });\n                this.options.displayedProperty = 'value';\n            } else data = source;\n            this.data = this.sort(data);\n        }\n    },\n    sort: function sort(data) {\n        if (!this.options.sort) return;\n        var p = this.options.sortBy ? this.options.sortBy : this.options.displayedProperty;\n        var v = this.options.sortOrder == 'asc' ? -1 : 1;\n        var result = data.sort(function (a, b) {\n            if (a[p] < b[p]) return v;\n            if (a[p] > b[p]) return -v;\n            return 0;\n        });\n        return result;\n    },\n    setInput: function setInput(elem) {\n        if (typeof elem == 'string') this.input = document.querySelector(elem);else if (elem.hasOwnProperty('tagName') && elem.tagName == 'input') this.input = elem;else throw '1 argument should be String or instance of Element with tagName input';\n    },\n    _selectElement: function _selectElement(element) {\n        this.input.value = element[this.options.displayedProperty];\n        this.selected = element;\n        this._finishTyping();\n        this.onselect(element);\n    },\n    onselect: function onselect() {\n        // callback, should be set by client\n    },\n    _bindInputEvents: function _bindInputEvents() {\n        this.input.addEventListener(\"input\", this, false);\n        this.input.addEventListener(\"focus\", this, false);\n    },\n    _keyDownEvent: function _keyDownEvent(event) {\n        if (this.dropdown.isVisible) this.dropdown.keyDownEvent(event);\n        if (event.keyCode == 9 || event.keyCode == 13) {\n            // tab or enter\n            this._finishTyping();\n            this._focusToNextControl();\n        }\n    },\n    _makeRequest: function _makeRequest(url) {\n        return new Promise(function (resolve, reject) {\n            if (this.xhr) this.xhr.abort();\n\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url);\n            xhr.onload = function () {\n                if (this.status >= 200 && this.status < 300) {\n                    resolve(JSON.parse(xhr.responseText));\n                } else {\n                    reject({\n                        status: this.status,\n                        statusText: xhr.statusText\n                    });\n                }\n            };\n            xhr.onerror = function () {\n                reject({\n                    status: this.status,\n                    statusText: xhr.statusText\n                });\n            };\n            xhr.send();\n            this.xhr = xhr;\n        }.bind(this));\n    },\n    _abortRequest: function _abortRequest() {\n        if (this.xhr) this.xhr.abort();\n        this.dataRequestFinished = true;\n    },\n    _loadData: function _loadData(url) {\n        var that = this;\n\n        return new Promise(function (resolve, reject) {\n\n            var callback = void 0;\n            that.dataRequestFinished = false;\n\n            that._makeRequest(url).then(function (data) {\n                callback = function callback() {\n                    return resolve(data);\n                };\n            }).catch(function (error) {\n                callback = function callback() {\n                    return reject(error);\n                };\n            }).then(function () {\n                that.dataRequestFinished = true;\n                if (!that.dropdown.isLoaderShown) callback();\n            });\n\n            setTimeout(function () {\n                if (!that.dataRequestFinished) {\n                    that.dropdown.showLoader();\n                    var interval = setInterval(function () {\n                        if (that.dataRequestFinished) {\n                            clearInterval(interval);\n                            if (callback) callback();\n                        }\n                    }, 1000);\n                }\n            }, 500);\n        });\n    },\n    testByEntry: function testByEntry(str, search) {\n        str = ' ' + str.replace(/\"/g, \"\");\n        return str.indexOf(' ' + search);\n    },\n    _getSearchResult: function _getSearchResult(value) {\n        var searchData = void 0;\n        if (this.lastSearch && value.startsWith(this.lastSearch.value)) {\n            searchData = this.lastSearch.result;\n        } else searchData = this.data;\n        if (!this.data) return [];\n\n        var lValue = this.options.caseSensitive ? value : value.toLowerCase();\n\n        var result = [];\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = this.data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var row = _step.value;\n\n                if (!this.options.isValidElement(row)) continue;\n\n                if (row[this.options.displayedProperty] == value) this.selected = row;\n\n                for (var property in row) {\n                    if (row.hasOwnProperty(property)) {\n                        var str = this.options.caseSensitive ? String(row[property]) : String(row[property]).toLowerCase();\n                        if (this.options.searchByEntry) {\n\n                            var pos = this.testByEntry(str, lValue);\n                            if (pos != -1) {\n                                row.search = {\n                                    pos: pos, property: property,\n                                    length: lValue.length\n                                };\n                                result.push(row);\n                                break;\n                            }\n                        } else {\n                            if (str.startsWith(lValue)) {\n                                result.push(row);\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        this.lastSearch = { value: value, result: result };\n        return result;\n    },\n    _search: function _search(value) {\n        var _this = this;\n\n        this.selected = null;\n        if (value) {\n            if (this.sourceIsDynamic) {\n                this._loadData(this.source(value)).then(function (data) {\n                    return _this.dropdown.showList(_this.sort(data), _this.options.maxResults);\n                }).catch(function (err) {\n                    return _this.dropdown.showError();\n                });\n            } else {\n                if (this.data) this.dropdown.showList(this._getSearchResult(value.trim()), this.options.maxResults);else {\n                    this._loadData(this.source).then(function (data) {\n                        _this.data = _this.sort(data);\n                        _this.dropdown.showList(_this._getSearchResult(value.trim()), _this.options.maxResults);\n                    }, this.options.maxResults).catch(function (err) {\n                        return _this.dropdown.showError();\n                    });\n                }\n            }\n        } else this.dropdown.remove();\n    },\n    _validate: function _validate() {\n        if (!this.selected) {\n            if (this.options.ownValue) {\n                this.input.classList.add('warning');\n                this._showUnderInput(this.messages.warning, 'warning');\n            } else {\n                this.input.classList.add('error');\n                this._showUnderInput(this.messages.error, 'error');\n            }\n        } else this.input.classList.add('fulfilled');\n    },\n    _onFocusEvent: function _onFocusEvent() {\n        document.body.addEventListener('click', this._onClickOutside);\n        this.input.className = 'autocomplete';\n        if (this.messageUnderInput) {\n            this.input.parentNode.removeChild(this.messageUnderInput);\n            this.messageUnderInput = null;\n        }\n\n        //if(!this.selected && this.lastSearch) this.dropdown.showList(this.lastSearch.result, this.options.maxResults);\n        this.input.select();\n        this.lastSearch = null;\n\n        document.addEventListener('keydown', this);\n    },\n    _onClickOutside: function _onClickOutside(event) {\n        if (event.target == this.input) return;\n        this._finishTyping();\n    },\n    _finishTyping: function _finishTyping() {\n\n        if (!this.dataRequestFinished) this._abortRequest();\n\n        if (!this.selected && this.lastSearch && this.lastSearch.result.length == 1) {\n            var elem = this.lastSearch.result[0];\n            this._selectElement(elem);\n        }\n        this.dropdown.remove();\n        this._validate();\n        document.body.removeEventListener('click', this._onClickOutside);\n        document.removeEventListener('keydown', this);\n        this.input.removeEventListener('click', this);\n    },\n    _showUnderInput: function _showUnderInput(text, className) {\n        var div = document.createElement('div');\n        div.classList.add('autocomplete-message');\n        div.classList.add(className);\n        div.innerHTML = text;\n        div.style.top = this.input.offsetHeight;\n\n        this.input.parentNode.appendChild(div);\n        this.messageUnderInput = div;\n    },\n    _focusToNextControl: function _focusToNextControl() {\n        this.input.blur();\n        var next = document.querySelector('[tabIndex=\"' + (+this.input.tabIndex + 1) + '\"]');\n        if (!next) {\n            var inputs = Array.prototype.slice.call(document.getElementsByTagName('input'));\n            next = inputs[inputs.indexOf(this.input) + 1];\n        }\n        if (next) next.focus();\n    }\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// js/autocomplete.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 557eb7f6a448d223087b","/*\n@author Alexey Evlampev\n */\n\nexport default Dropdown;\n\nfunction Dropdown(baseElement, options) {\n    this.minHeight = options.minHeight;\n    this.maxHeight = options.maxHeight;\n    this.baseElement = baseElement;\n    this.position = options.dropdownPosition;\n    this.displayedProperty = options.displayedProperty;\n    this.wordEndings = options.wordEndings;\n\n\n    this.isCreated = false;\n    this.isVisible = false;\n    this.activeElement = undefined;\n    this.elementsList = null;\n    this.dropdown = null;\n    this.isLoaderShown = false;\n}\n\nconst NOTHING_FOUND = 'Не найдено';\nconst LOADING = 'Загрузка';\n\nconst keynumCodes = {\n    UP: 38,\n    DOWN: 40,\n    ENTER: 13,\n    ESC: 27\n};\n\nconst loader = '<svg class=\"circle\" width=\"16\" height=\"16\"><circle class=\"path\" cx=\"8\" cy=\"8\" r=\"6\" stroke-miterlimit=\"10\"/></svg>';\n\nDropdown.prototype = {\n\n    _create(){\n        let dropdown = document.createElement('div');\n        dropdown.className = 'autocomplete-dropdown';\n        dropdown.style.visibility = 'hidden';\n        dropdown.addEventListener('click', (e)=>e.stopPropagation());\n\n\n        document.body.appendChild(dropdown);\n        this.dropdown = dropdown;\n\n        this.isCreated = true;\n    },\n\n    _createElement(element){\n        let val;\n        if (element.hasOwnProperty('search') && element.search.property == this.displayedProperty) {\n            let str = element[this.displayedProperty];\n            let {pos, length} = element.search;\n            val = str.substr(0, pos) + '<b>' + str.substr(pos, length) + '</b>' + str.substr(pos + length);\n        }\n        else {\n            val = element[this.displayedProperty];\n        }\n\n        let li = document.createElement('li');\n        li.innerHTML = val;\n        li.addEventListener('click', this._clickEvent.bind(this));\n        li.listRow = element;\n\n        return li;\n    },\n\n    _createElementsList(elements){\n        let result = document.createElement('ul');\n\n        for (let row of elements) {\n            result.appendChild(this._createElement(row));\n        }\n\n        result.addEventListener('mouseover', function () {\n            document.body.style.overflow = 'hidden';\n        });\n        result.addEventListener('mouseout', function () {\n            document.body.style.overflow = 'auto';\n        });\n\n        return result;\n    },\n\n    _createLoader(){\n        let div = document.createElement('div');\n        div.className = \"loader\";\n        div.innerHTML = loader;\n        let span = document.createElement('span');\n        span.appendChild(document.createTextNode(LOADING));\n        div.appendChild(span);\n        return div;\n    },\n\n    _createEmptyMessage(){\n        let div = document.createElement('div');\n        div.appendChild(document.createTextNode(NOTHING_FOUND));\n        return div;\n    },\n\n    showLoader(){\n        if (this.isLoaderShown) return;\n        this.clear();\n        this.dropdown.appendChild(this._createLoader());\n        this._show();\n        this.isLoaderShown = true;\n    },\n\n    showError(){\n        const CONNECTION_ERROR = 'Что-то пошло не так. Проверьте соединение с интернетом и попробуйте еще раз';\n        const RELOAD = 'Обновить';\n\n        this.clear();\n        let div = document.createElement('div');\n        div.appendChild(document.createTextNode(CONNECTION_ERROR));\n\n        let reloadBtn = document.createElement('div');\n        reloadBtn.className = 'autocomplete-control';\n        reloadBtn.appendChild(document.createTextNode(RELOAD));\n\n        reloadBtn.addEventListener('click', ()=>this.reload());\n        this.onEnterClick = () => this.reload();\n\n        this.dropdown.appendChild(div);\n        this.dropdown.appendChild(reloadBtn);\n\n        this._show();\n    },\n\n    showList(list, maxResults = null){\n        this.clear();\n\n        if (list.length == 0) this.dropdown.appendChild(this._createEmptyMessage());\n        else {\n            if (maxResults == null || list.length <= maxResults) {\n                let ul = this._createElementsList(list);\n                this.dropdown.appendChild(ul);\n                this.setActiveElement(ul.firstChild);\n            } else {\n                let ul = this._createElementsList(list.slice(0, maxResults));\n                this.dropdown.appendChild(ul);\n                this.setActiveElement(ul.firstChild);\n                this.dropdown.appendChild(this._getSummary(maxResults, list.length));\n            }\n\n            this.onEnterClick = () => this.select(this.activeElement.listRow);\n        }\n\n\n        //if (!this.isVisible) {\n        this._show();\n        //}\n        //else this._updateWidth();\n    },\n\n    _getSummary(num, total){\n        let div = document.createElement('div');\n        let str = (total % 100 != 11 && total % 10 == 1) ? 'найденного ' + this.wordEndings[0] : 'найденных ' + this.wordEndings[1];\n        let text = 'Показано ' + num + ' из ' + total + ' ' + str + '. Уточните запрос, чтобы увидеть остальные';\n        div.appendChild(document.createTextNode(text));\n        div.className = \"autocomplete-summary\";\n        return div;\n    },\n\n    _clickEvent(event){\n        this.select(event.target.listRow);\n    },\n\n    _getHeight(availableSpace){\n        return Math.min(Math.max(this.minHeight, availableSpace), this.maxHeight);\n    },\n\n    _getCoords(elem) { // crossbrowser version\n        var box = elem.getBoundingClientRect();\n\n        var body = document.body;\n        var docEl = document.documentElement;\n\n        var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n        var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n\n        var clientTop = docEl.clientTop || body.clientTop || 0;\n        var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n\n        var top = box.top + scrollTop - clientTop;\n        var left = box.left + scrollLeft - clientLeft;\n\n        return {top: Math.round(top), bottom: Math.round(top) + elem.offsetHeight, left: Math.round(left)};\n    },\n\n    _updateWidth(){\n        const WIDTH_INCREASE = 30;\n\n        let leftOffset = this.dropdown.coordLeft;\n\n        let maxWidth = document.body.clientWidth - leftOffset;\n        let minWidth = Math.min(this.baseElement.offsetWidth + WIDTH_INCREASE, maxWidth);\n\n        let width;\n        let ul = this.dropdown.getElementsByTagName('ul');\n        if (ul.length > 0) {\n            this.dropdown.style.width = 'auto';\n            width = Math.min(Math.max(minWidth, ul[0].offsetWidth + 1), maxWidth);\n            ul[0].style.width = '100%';\n            ul[0].style.display = 'block';\n\n        }\n        else width = minWidth;\n        this.dropdown.style.width = width + 'px';\n    },\n\n    _setListHeight(totalHeight){\n        const summaryHeight = 42;\n        let ul = this.dropdown.getElementsByTagName('ul');\n        if (ul.length > 0) {\n            if (this.dropdown.getElementsByTagName('div').length > 0) {\n                ul[0].style.maxHeight = (totalHeight - summaryHeight) + 'px';\n            }\n            else ul[0].style.maxHeight = totalHeight + 'px';\n        }\n    },\n\n    _show(){\n        if (!this.isCreated) return;\n\n        const OFFSET_INPUT = 2;\n\n        let coords = this._getCoords(this.baseElement);\n        let offsetBottom = document.body.clientHeight - coords.bottom;\n\n        if (this.position == 'top' || (this.position == 'auto' && offsetBottom < this.minHeight)) {\n            this._setListHeight(this._getHeight(coords.top - OFFSET_INPUT));\n            this.dropdown.style.bottom = document.body.clientHeight - coords.top + OFFSET_INPUT + 'px';\n        }\n        else {\n            this.dropdown.style.top = (coords.top + this.baseElement.offsetHeight + OFFSET_INPUT) + \"px\";\n            this._setListHeight(this._getHeight(offsetBottom - OFFSET_INPUT));\n        }\n\n        this.dropdown.coordLeft = coords.left;\n        this.dropdown.style.left = coords.left + 'px';\n\n        this._updateWidth();\n\n        this.dropdown.style.visibility = 'visible';\n\n        this.isVisible = true;\n        //TODO reaction on window resize\n    },\n\n    setActiveElement(elem){\n        if (this.activeElement) this.activeElement.className = '';\n        elem.className = 'active';\n        this.activeElement = elem;\n\n        let offsetTop = elem.offsetTop,\n            offsetBottom = offsetTop + 30;\n        let ul = this.dropdown.getElementsByTagName('ul')[0];\n        if (ul.scrollTop + ul.clientHeight < offsetBottom) {\n            ul.scrollTop = offsetBottom - ul.clientHeight;\n        }\n        else if (offsetTop < ul.scrollTop) {\n            ul.scrollTop = offsetTop;\n        }\n    },\n\n    _resetVars(){\n        this.isCreated = false;\n        this.isVisible = false;\n        this.activeElement = null;\n        this.isLoaderShown = false;\n    },\n\n    remove(){\n        if (!this.isCreated) return;\n\n        this._resetVars();\n        this.dropdown.parentNode.removeChild(this.dropdown);\n        document.body.style.overflow = 'auto';\n    },\n\n    clear(){\n        this.isLoaderShown = false;\n        this.activeElement = null;\n        if (!this.isCreated) this._create();\n        else {\n            this.dropdown.innerHTML = '';\n        }\n    },\n\n    select(){\n        // callback, should be set by client\n    },\n\n    keyDownEvent(event){\n        let preventdef = true;\n        switch (event.keyCode) {\n            case keynumCodes.DOWN:\n                if (!this.activeElement || !this.activeElement.nextSibling) return;\n                this.setActiveElement(this.activeElement.nextSibling);\n                break;\n            case keynumCodes.UP:\n                if (!this.activeElement || !this.activeElement.previousSibling) return;\n                this.setActiveElement(this.activeElement.previousSibling);\n                break;\n            case keynumCodes.ENTER:\n                if (this.onEnterClick) this.onEnterClick();\n                break;\n            case keynumCodes.ESC:\n                this.remove();\n                break;\n            default:\n                preventdef = false;\n                break;\n        }\n        if (preventdef) event.preventDefault();\n    },\n\n}\n;\n\n\n\n// WEBPACK FOOTER //\n// ./js/dropdown.js","/*\n@author Alexey Evlampev\n */\n\nrequire('../scss/core.scss');\nimport Dropdown from \"./dropdown\";\n\nmodule.exports = AutocompleteFactory;\n\n// extend objects\nfunction extend(s, b) {\n    var a = {};\n    Object.assign(a, s);\n    for (var prop in b) {\n        a[prop] = b[prop];\n    }\n    return a;\n}\n\nfunction AutocompleteFactory(elem, options) {\n    return new Autocomplete(elem, options);\n}\n\nconst defaultOptions = {\n    'source': null,\n    'arrow': false,\n    'maxResults': 5,\n    'minHeight': 200,\n    'maxHeight': 450,\n    'displayedProperty': \"value\",\n    'dropdownPosition': \"auto\",\n    'sort': false,\n    'sortBy': null,\n    'sortOrder': 'asc',\n    'isValidElement': ()=>true,\n    'searchByEntry': false,\n    'caseSensitive': false,\n    'wordEndings': null,\n    'ownValue': false\n};\n\nfunction Autocomplete(elem, options) {\n\n    this.options = extend(defaultOptions, options);\n\n    try {\n        this.setInput(elem);\n        this.setData(this.options.source);\n    } catch (err) {\n        window.console.error(err);\n        return;\n    }\n\n    this.dropdown = new Dropdown(this.input, this.options);\n\n    this.dropdown.select = this._selectElement.bind(this);\n\n    this.dropdown.reload = function () {\n        this._search(this.input.value);\n    }.bind(this);\n\n    this._bindInputEvents();\n\n    this.handleEvent = function (e) {\n        switch (e.type) {\n            case \"focus\":\n                this._onFocusEvent();\n                break;\n            case \"input\":\n                this._search(this.input.value);\n                break;\n            case \"keydown\":\n                this._keyDownEvent(e);\n                break;\n        }\n    };\n\n    this._onClickOutside = this._onClickOutside.bind(this);\n\n    this.lastSearch = null;\n    this.selected = undefined;\n    this.sourceIsDynamic = false;\n}\n\nAutocomplete.prototype = {\n    messages: {\n        error: 'Выберите значение из списка',\n        warning: 'Значения нет в справочнике. <br> Возможно, вы ошиблись в написании'\n    },\n\n    setData(source){\n        if (typeof source == 'string') {\n            this.source = source; // data will be loaded later\n        }\n        else if (typeof source == 'function') {\n            this.source = source;\n            this.sourceIsDynamic = true;\n        }\n        else {\n            if (!(source instanceof Array)) throw 'source should be instance of Array or String';\n            let data;\n            if (typeof source[0] == 'string') {\n                data = source.map(str => {\n                    value: str\n                });\n                this.options.displayedProperty = 'value';\n            }\n            else data = source;\n            this.data = this.sort(data);\n        }\n    },\n\n    sort(data){\n        if (!this.options.sort) return;\n        let p = this.options.sortBy ? this.options.sortBy : this.options.displayedProperty;\n        let v = this.options.sortOrder == 'asc' ? -1 : 1;\n        let result = data.sort(function (a, b) {\n            if (a[p] < b[p]) return v;\n            if (a[p] > b[p]) return -v;\n            return 0;\n        });\n        return result;\n    },\n\n    setInput(elem){\n        if (typeof elem == 'string') this.input = document.querySelector(elem);\n        else if (elem.hasOwnProperty('tagName') && elem.tagName == 'input') this.input = elem;\n        else throw '1 argument should be String or instance of Element with tagName input';\n    },\n\n    _selectElement(element){\n        this.input.value = element[this.options.displayedProperty];\n        this.selected = element;\n        this._finishTyping();\n        this.onselect(element);\n    },\n\n    onselect(){\n        // callback, should be set by client\n    },\n\n    _bindInputEvents(){\n        this.input.addEventListener(\"input\", this, false);\n        this.input.addEventListener(\"focus\", this, false);\n    },\n\n    _keyDownEvent(event){\n        if (this.dropdown.isVisible) this.dropdown.keyDownEvent(event);\n        if (event.keyCode == 9 || event.keyCode == 13) { // tab or enter\n            this._finishTyping();\n            this._focusToNextControl();\n        }\n    },\n\n    _makeRequest(url){\n        return new Promise(function (resolve, reject) {\n            if (this.xhr) this.xhr.abort();\n\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url);\n            xhr.onload = function () {\n                if (this.status >= 200 && this.status < 300) {\n                    resolve(JSON.parse(xhr.responseText));\n                } else {\n                    reject({\n                        status: this.status,\n                        statusText: xhr.statusText\n                    });\n                }\n            };\n            xhr.onerror = function () {\n                reject({\n                    status: this.status,\n                    statusText: xhr.statusText\n                });\n            };\n            xhr.send();\n            this.xhr = xhr;\n        }.bind(this));\n    },\n\n    _abortRequest(){\n        if (this.xhr) this.xhr.abort();\n        this.dataRequestFinished = true;\n    },\n\n    _loadData(url){\n        var that = this;\n\n        return new Promise(function (resolve, reject) {\n\n            let callback;\n            that.dataRequestFinished = false;\n\n            that._makeRequest(url)\n                .then(data => {\n                    callback = () => resolve(data)\n                })\n                .catch(error => {\n                    callback = () => reject(error)\n                })\n                .then(() => {\n                    that.dataRequestFinished = true;\n                    if (!that.dropdown.isLoaderShown) callback();\n                });\n\n            setTimeout(function () {\n                if (!that.dataRequestFinished) {\n                    that.dropdown.showLoader();\n                    let interval = setInterval(function () {\n                        if (that.dataRequestFinished) {\n                            clearInterval(interval);\n                            if (callback) callback();\n                        }\n                    }, 1000);\n                }\n            }, 500);\n        });\n    },\n\n    testByEntry(str, search){\n        str = ' ' + str.replace(/\"/g, \"\");\n        return str.indexOf(' ' + search);\n\n    },\n\n    _getSearchResult(value){\n        let searchData;\n        if (this.lastSearch && value.startsWith(this.lastSearch.value)) {\n            searchData = this.lastSearch.result;\n        }\n        else searchData = this.data;\n        if (!this.data) return [];\n\n        let lValue = this.options.caseSensitive ? value : value.toLowerCase();\n\n        let result = [];\n        for (let row of this.data) {\n            if (!this.options.isValidElement(row)) continue;\n\n            if (row[this.options.displayedProperty] == value) this.selected = row;\n\n            for (let property in row) {\n                if (row.hasOwnProperty(property)) {\n                    let str = this.options.caseSensitive ? String(row[property]) : String(row[property]).toLowerCase();\n                    if (this.options.searchByEntry) {\n\n                        let pos = this.testByEntry(str, lValue);\n                        if (pos != -1) {\n                            row.search = {\n                                pos, property,\n                                length: lValue.length,\n                            };\n                            result.push(row);\n                            break;\n                        }\n                    }\n                    else {\n                        if (str.startsWith(lValue)) {\n                            result.push(row);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        this.lastSearch = {value, result};\n        return result;\n    },\n    _search(value){\n        this.selected = null;\n        if (value) {\n            if (this.sourceIsDynamic) {\n                this._loadData(this.source(value))\n                    .then(data => this.dropdown.showList(this.sort(data), this.options.maxResults))\n                    .catch(err => this.dropdown.showError());\n            }\n            else {\n                if (this.data)\n                    this.dropdown.showList(this._getSearchResult(value.trim()), this.options.maxResults);\n                else {\n                    this._loadData(this.source)\n                        .then(data => {\n                            this.data = this.sort(data);\n                            this.dropdown.showList(this._getSearchResult(value.trim()), this.options.maxResults);\n                        }, this.options.maxResults)\n                        .catch(err => this.dropdown.showError())\n                }\n            }\n        }\n        else this.dropdown.remove();\n    },\n\n    _validate(){\n        if (!this.selected) {\n            if (this.options.ownValue) {\n                this.input.classList.add('warning');\n                this._showUnderInput(this.messages.warning, 'warning');\n            }\n            else {\n                this.input.classList.add('error');\n                this._showUnderInput(this.messages.error, 'error');\n            }\n        }\n        else this.input.classList.add('fulfilled');\n    },\n\n    _onFocusEvent(){\n        document.body.addEventListener('click', this._onClickOutside);\n        this.input.className = 'autocomplete';\n        if (this.messageUnderInput) {\n            this.input.parentNode.removeChild(this.messageUnderInput);\n            this.messageUnderInput = null;\n        }\n\n        //if(!this.selected && this.lastSearch) this.dropdown.showList(this.lastSearch.result, this.options.maxResults);\n        this.input.select();\n        this.lastSearch = null;\n\n        document.addEventListener('keydown', this);\n    },\n\n    _onClickOutside(event){\n        if(event.target == this.input) return;\n        this._finishTyping();\n    },\n\n    _finishTyping(){\n\n\n        if (!this.dataRequestFinished) this._abortRequest();\n\n        if (!this.selected && this.lastSearch && this.lastSearch.result.length == 1) {\n            let elem = this.lastSearch.result[0];\n            this._selectElement(elem);\n        }\n        this.dropdown.remove();\n        this._validate();\n        document.body.removeEventListener('click', this._onClickOutside);\n        document.removeEventListener('keydown', this);\n        this.input.removeEventListener('click', this);\n    },\n\n    _showUnderInput(text, className){\n        let div = document.createElement('div');\n        div.classList.add('autocomplete-message');\n        div.classList.add(className);\n        div.innerHTML = text;\n        div.style.top = this.input.offsetHeight;\n\n        this.input.parentNode.appendChild(div);\n        this.messageUnderInput = div;\n    },\n\n    _focusToNextControl(){\n        this.input.blur();\n        let next = document.querySelector('[tabIndex=\"' + (+this.input.tabIndex + 1) + '\"]');\n        if (!next) {\n            let inputs = Array.prototype.slice.call(document.getElementsByTagName('input'));\n            next = inputs[inputs.indexOf(this.input) + 1];\n        }\n        if (next) next.focus();\n    }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./js/core.js"],"sourceRoot":""}